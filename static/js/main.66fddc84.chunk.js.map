{"version":3,"sources":["common/tools.mjs","common/syncCache.mjs","core/data.js","core/persistent.js","core/bignumber.js","core/amfeixContract.js","core/db.js","common/crypto.mjs","common/pubKeyConvertor.mjs","core/satoshi.js","serviceWorker.js","ui/icons.js","ui/formatting.js","ui/components.js","ui/investor.js","core/wallet.js","ui/admin.js","ui/login.js","ui/network.js","ui/loadProgressView.js","ui/colors.js","ui/impactFund.js","ui/wallet.js","core/enums.js","index.js","../../common/version.js"],"names":["isA","Array","isArray","isO","o","isS","s","A","Object","assign","D","x","E","entries","oO","F","fromEntries","G","f","map","i","k","v","I","K","keys","L","console","log","S","P","R","msg","data","Error","JSON","stringify","T","oS","split","U","undefined","V","values","W","Promise","all","oA","a","oB","b","oF","singleKeyObject","makeEnum","soo","freeze","Observer","observable","onChange","context","index","this","remove","SyncCache","key","observe","retriever","obj","forEach","setData","observers","observerIx","obs","push","stati","Deposits","Withdrawal_Requests","anomalousInvestorIndexMap","b64ToHex","Buffer","from","toString","decodeDeposit","timestamp","amountX","transactionX","fromBtcAddressX","txId","fromBtcAddress","bs58check","encode","satoshiBN","BN","hostname","window","location","btcRpcUrl","ethInterfaceUrl","ethInterfaceUrls","amfeixFeeFields","invMap","countTable","dataTable","amfeixAddressLists","timeAndAmount","indexMaps","investorMaps","ethBasicFields","concat","btcFields","btcRpc","method","func","params","JSONBig","fetch","encodeURIComponent","join","mode","headers","body","text","parse","invMapDBStruc","struc","tableStrucMap","keyPath","indices","tables","hierName","p","q","table","eth","constants","investorsAddresses","btc","queue","ethTransactions","constantFields","constantRetrievers","name","value","amfx","amfeixM","call","timeFunc","startTime","Date","now","result","time","getInvestorDataKey","investor","getInvestorWalletDataKey","btcAddress","Transaction","parms","fetchDeposits","fromPubKey","toAddr","Data","localData","dbix","investorData","loadProgress","progress","timings","syncCache","idb","IndexedDB","adminLoadInitiated","queuedEthTransactions","deleteDB","persist","setEthRPCUrl","onLoadProgress","d","onGlobalLoad","step","length","done","updateLoadProgress","updateConstants","t","measureTime","buf","newBuffer","queueOp","write","err","flushBatch","flush","functionsToPerformAfterBasicLoad","functionsToPerformAfterGenericLoad","init","genericLoad","privateKey","testMode","web3","personal","getAccounts","accounts","privateKeyToAccount","u","amfeixAddress","Math","estimateGas","to","max","encodeABI","gas","options","sendTransaction","z","status","watch","detach","updateArray","loadTimeData","l","updateFixedLengthArray","updateSyncCache","computeTimeDataFromTimeAndAmount","getAll","m","updateInvestorMappedArray","fundDeposits","getData","fundDepositObj","flat","updateBitcoinTxs","basicLoad","updateInvestorsAddresses","updateRegisteredEthTransactions","fetchFundDeposits","updateRegisteredBtcTransactions","computeData","address","getAllInvestors","toLowerCase","indexOf","updateInvestorArray","updateRegisteredTransactions","newRPCUrl","setWeb3Url","filter","getFundDepositAddresses","set","pubKey","cached","Withdrawals","Investments","fundDepositAddress","Returns","investorWalletData","pow","getDecimals","getFactor","ff","times","performance","y","amount","acc","plus","div","timeData","parseFloat","roi","dailyChange","lowIndex","highIndex","low","high","countKey","sIx","startIndex","parseInt","w3Batcher","localBuf","masterKeys","final","resolve","reject","w3b","completed","currentIx","arrayName","lengthName","olp","getArrayLengthAndStartIndex","alsi","updateGenericArray","investorIx","getInvestorMapUpdateCountData","investorMapCountKey","ix","investors","r","type","lengthTable","count","slice","fd","ALPHABET","clear","n","get","promise","approvedDeposits","im","e","retrieveInvestorData","investmentValue","withdrawalRequests","pendingDeposits","lengths","allData","invKey","ethDataMap","signature","action","dataMaps","j","min","txs","reqWD","getList","fastLength","toObj","dedup","objs","has","g","investment","sort","currentValueAcc","Withdrawn","Withdrawal_Requested","Active","endTimestamp","endIx","getPerformanceIndex","startIx","startPerf","endPerf","appliedPerf","finalValue","isZero","hasWithdrawalRequest","hasWithdrawal","wr","Processed","Pending","accCurrentValue","minus","satoshiToBTCString","valueSeries","computedValues","derivedEthAddress","pubKeyToEthAddress","pubKeyToBtcAddress","anomalous","pubKeys","error","Persistent","persistanceKey","storedFieldNames","defaults","localStorage","getItem","setItem","BigNumber","config","abi","methodMap","amfeixCjson","MultiCallBatch","calls","target","onSuccess","onError","rpcUrl","c","inputs","outputs","returns","aggregate","multicallAddress","response","results","original","_hex","url","queuedOps","batchIx","queuedOpCount","processedOpCount","queuedBatches","processing","inFlight","maxInFlight","nextIx","batchSize","activeBatch","Web3","providers","WebsocketProvider","HttpProvider","timeout","Contract","methods","op","batch","add","execute","shift","mif","executeBatch","setTimeout","actualFlushBatch","computeKey","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","IDBTransaction","webkitIDBTransaction","msIDBTransaction","IDBKeyRange","webkitIDBKeyRange","msIDBKeyRange","open","onerror","onsuccess","onupgradeneeded","db","objectStoreNames","deleteObjectStore","item","autoIncrement","os","createObjectStore","createIndex","unique","multiEntry","transaction","oncomplete","deleteDatabase","label","tx","getTx","objectStore","input","getOS","act","onCursor","onData","openCursor","continue","catch","then","put","IDBuffer","pendingOps","activeFlush","errors","successes","total","defaultDerivationPaths","bitcoin","ethereum","rootFromSeed","seedWords","bip32","fromSeed","bip39","mnemonicToSeedSync","ethAddressFromPubKey","keccak256","getEthAddress","buffer","alloc","toBuffer","secp256k1","publicKeyConvert","btcAddressFromPubKey","pubkey","network","payments","p2pkh","pubKeyBufferToPoint","pubKeyBuffer","ECPair","fromPublicKey","publicKey","encryptKey","password","onProgress","bip38","encrypt","encryptSeedWords","root","decryptWallet","encryptedKeys","decrypt","getAmfeixNode","derivePath","coinNodesFromRoot","derive","getAmfeixPublicKey","getAmfeixPrivateKey","hexOnly","pubKeyHex","prefix","getWalletRoot","w","fromPrivateKey","privKeyBuffer","chainCode","generateSeedWords","generateMnemonic","pubKeyConvertors","crypto","pubKeySyncCaches","pubKeyCachedConvertors","coin","btcToString","Boolean","match","captionIconMap","Bitcoin_Wallet","AccountBalanceWalletOutlinedIcon","Impact_Fund","EqualizerIcon","Settings","SettingsIcon","Progress","HourglassEmptyIcon","Unlock_wallet","LockOpenIcon","Create_wallet","AddCircleOutlineIcon","Log_in","VpnKeyIcon","Admin","SupervisorAccountIcon","formatTimestamp","date","make2Digit","year","month","day","hour","minute","second","hour12","Intl","DateTimeFormat","format","formatDate","captionMap","deposits","withdrawals","fundDepositAddresses","feeAddresses","_","cleanText","replace","trim","Comp","sors","state","fers","initRefs","ren","props","spacedOutRefString","React","createRef","newV","childRef","current","updateChildRef","unmounted","onDone","setState","addSyncObserver","setStateKV","Component","Selector","selectedIx","onChanged","FormControl","component","RadioGroup","row","horizontal","aria-label","setSelectedIx","FormControlLabel","control","Radio","styles","visuallyHidden","border","clip","height","margin","overflow","padding","position","top","width","classes","THead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","TableHead","TableRow","checkable","TableCell","Checkbox","indeterminate","checked","inputProps","h","property","sortDirection","align","alignCaption","disablePadding","TableSortLabel","active","direction","onClick","event","caption","style","ListView","page","rowsPerPage","sortOrder","rows","_id","sortColumn","compare","comp","X","isChecked","isSelected","columnCount","prevRowsPerPage","offset","TableContainer","Box","Table","className","aria-labelledby","title","size","TableBody","hover","aria-checked","tabIndex","selected","displayFunc","TableFooter","TablePagination","colSpan","rowsPerPageOptions","onChangePage","onChangeRowsPerPage","round","floor","Sidebar","List","tabs","C","color","ListItem","button","tabulize","ListItemIcon","Typography","TabbedView","selectedTabIx","visibleTab","selTabIx","tabsControl","tabsProps","onChangeSelectedTabIx","TabsControl","Tabs","indicatorColor","textColor","centered","Tab","disabled","tabProps","activeTab","createElement","parentProps","verticalAlign","Button","variant","TabTimeline","tabbedView","last","ref","onCancel","getVisibleTab","validate","setPrecedingResult","bind","acceptText","vt","onAccept","ValidatableComp","TextField","id","helperText","borderSpacing","cells","cellStyles","formTable","form","preamble","noValidate","autoComplete","DialogWrap","Dialog","onClose","OpenDialogButton","GetPasswordView","walletName","fontSize","genTextField","GetPasswordDialog","ProgressDialog","CircularProgress","wrapEllipsisDiv","textOverflow","whiteSpace","aLink","src","link","rel","href","newTabRef","genHeaders","applyListHeaders","extractHeaders","commonTableHeaders","mods","compareStrings","localeCompare","compareBNs","isLessThan","commonDataTypes","ethAddress","btcTx","btcSatoshis","warning","textAlign","loadingComponent","dataSummary","reduce","DataDependentView","componentDidUpdate","prevP","updateInvestor","InvestorDependentView_Eth","addSyncKeyObserver","InvestorDependentView_Btc","retrieveInvestorWalletData","InvestorID","EthTxView","getInvestorData","EDeveloperMode","Developer","includes","display","InvestorList","onChangedSelectedInvestor","wallet","creds","Password","pub","openWallet","Wallet","lastLogin","Approve_actions_Form","actionName","propertyLabel","Approve_deposits_Form","Approve_withdrawals_Form","Approve_all_pending_deposits","Approve_all_pending_withdrawals","pendingWithdrawals","textField","generateForm","preambleText","aa","tf","changeDataForms","Owner","AUM","BtcPrice","RequestGas","Daily_change","Fees","Fund_deposit_address","Fee_address","adminSetters","Investors","qEthTx","Change_data","toFixed","Pending_Deposits","deps","approveAll","withs","Queued_Eth_Transactions","progressDialogOpen","progressDialogTitle","performApproveWithCreds","getPrivateKey","signAndSubmitQueuedEthTransactions","getPwdDialogOpen","signAndSubmit","SeedView","setNewInitialWords","constructed","getKey","initialWords","wordList","setErrors","getWords","expectedWords","gotWords","Setup_password","Confirm_password","Enter_credentials","Backup_seed","words","seedView","Verify_seed","checkWordsEqual","Input_seed","sv","checkWordsInList","english","Seed_Login","Bitcoin_P2P_Network","Ethereum_P2P_Network","ethRPCUrl","Network","displayDelay","lastUpdate","newProgress","currentTime","deltaS","update","updateTimeout","LinearProgress","timing","darkMode","matchMedia","matches","getMainLightness","fg","dm","getMainColor","basePallette","dark","backgroundColor","chart","valueSuffix","datas","constructorType","highcharts","Highcharts","rangeSelector","navigator","enabled","credits","zoomType","events","load","xAxis","setExtremes","showResetZoom","plotOptions","areaspline","fillColor","yAxis","labels","formatter","axis","defaultLabelFormatter","aferSetExtremes","series","tooltip","timeDataTrafo","FundIndexChart","changePerc","iData","displayTrafo","aum","decimals","parfs","urlParams","_Withdraw_","Withdraw","Review","Done","investorCompIfTestMode","borderStyle","borderWidth","borderRadius","borderColor","txTypes","simpleList","History","walletData","getInvestorWalletData","allLoaded","All_transactions","Invest","qrCode","QRCode","content","ecl","container","xmlDeclaration","svg","dangerouslySetInnerHTML","__html","EUserMode","EPallette","enumDefObj","enumDefault","URL","getUrlParam","searchParams","ethInterfaceChanged","Cache","clearCache","clearTransactionCache","MainView","walletOperation","startWalletOp","walletCodecProgress","percent","AppBar","Toolbar","acceptLogIn","Paper","asEthAddress","asPublicKey","runWhenDBInitialized","registerInvestorAddress","App","theme","createTheme","Default","Dark","isDark","document","createMuiTheme","palette","ThemeProvider","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.66fddc84.chunk.js","sourcesContent":["// Type-checking\nlet isA = Array.isArray;\nlet isF = f => typeof f === \"function\";\nlet isP = o => D(o.then) && isF(o.then);\nlet isO = o => typeof o === \"object\" && o != null && !isA(o);\nlet isS = s => typeof s === \"srting\";\n\nlet A = Object.assign;\nlet B = (a, k, t) => { let r = {}; a.forEach(b => { let y = r[b[(t || I)(k)]]; if (y) { y.push(b); } else { r[b[(t || I)(k)]] = [b]; } }); return r; }\nlet D = x => typeof x !== \"undefined\";\nlet E = o => Object.entries(oO(o));\nlet F = Object.fromEntries; \nlet G = (o, f) => F(E(o).map(([k, v], i) => [k, f(v, k, i, o)]));\nlet GA = async (o, f) => F(await E(oO(o)).map(async ([k, v], i) => [k, await f(v, k, i, o)]));\nlet H = (f, o) => G(o, (v, k, i, o) => isO(v) ? H(f, v) : f(v, k, i, o));\nlet I = x => x;\nlet K = Object.keys;\nlet L = x => { \n  console.log(S(x)); \n  return x; \n}\nlet P = (o, keys) => F(keys.map(k => [k, o[k]]));\nlet R = (msg, data) => A(new Error(msg), oO(data));\nlet S = JSON.stringify;\nlet T = s => oS(s).split(\" \");\nlet U = undefined;\nlet V = Object.values; \nlet W = async o => F(await Promise.all(E(o).map(async ([k, v]) => [k, await v])));\n\n// Optionals\nlet oA = a => a || [];\nlet oB = b => b || false;\nlet oF = f => f || (() => {});\nlet oO = o => o || {};\nlet oS = s => s || \"\"; \n\nlet asA = a => (b => isA(b) ? b : [b])(oA(a))\n\nlet singleKeyObject = (k, v) => { let o = {}; o[k] = v; return o; }\nlet makeEnum = soo => Object.freeze(F(T(soo).map(k => [k, k]))); \n\nexport { A, B, D, E, F, G, GA, H, I, K, L, P, R, S, T, U, V, W, oA, oB, oO, oS, oF, isA, isO, isF, isS, isP, asA, singleKeyObject, makeEnum }","import { A, D, E, oA } from './tools.mjs';\n\nclass Observer {\n  constructor(observable, onChange, context, index) { A(this, { observable, onChange, context, index }); }\n  detach() { this.observable.remove(this); }\n}\n\nclass Observable {\n  constructor() { A(this, { observers: {}, observerIx: 0 }); }\n  watch(key, onChange, context) {\n    let obs = new Observer(this, onChange, context, this.observerIx++);\n    (this.observers[key] = oA(this.observers[key])).push(obs);\n    if (D(this.data[key])) obs.onChange(this.data[key], context);\n    return obs;\n  }\n  observe(key, data) { oA(this.observers[key]).forEach(o => o.onChange(data, o.context)); return data; }\n  remove(obs) {\n    if (D(this.observers[obs.index])) delete this.observers[obs.index];\n  }\n}\n\nclass SyncCache extends Observable {\n  constructor() { super(); A(this, { data: {} }); }\n  setData(key, data) { this.observe(key, this.data[key] = data); return data; } //  L(`syncCache.setData(${key}, ${S(data)})`);\n  getData(key, retriever) { return this.data[key] = (D(this.data[key]) ? this.data[key] : (retriever && this.observe(key, retriever()))); }\n  set(obj) { E(obj).forEach(([k, v]) => this.setData(k, v)); }\n}\n\nexport { SyncCache }","import amfeixCjson from '../amfeixC.json'; \n// eslint-disable-next-line\nimport { A, D, E, F, G, H, I, K, L, S, T, P, U, V, W, oA, oO, oF, isO, isA, isS, singleKeyObject, makeEnum } from '../common/tools'; \nimport { IndexedDB } from './db'; \nimport { Persistent } from './persistent';\nimport { BN, ALPHABET }  from './bignumber';\nimport JSONBig from 'json-bigint'; \n//import Accounts from 'web3-eth-accounts';\n//import aggregate from './aggregate.js';\nimport { satoshiToBTCString } from './satoshi';\nimport { pubKeyToEthAddress, pubKeyToBtcAddress } from \"../common/pubKeyConvertor\";\nimport { SyncCache } from '../common/syncCache';\nimport { amfx, amfeixAddress } from './amfeixContract';\nimport bs58check from 'bs58check'; \n\nlet newDB = false //|| true;   \n \nlet stati = { Deposits: makeEnum(\"Active Withdrawn Withdrawal_Requested\"), Withdrawal_Requests: makeEnum(\"Pending Processed\") }; \n\nlet anomalousInvestorIndexMap = F([2339, 74, 418, 419, 424, 464, 515, 3429, 515, 1061, 3428, 3429, 3437, 3438].map(i => [(i), true]));\n\nlet b64ToHex = v => Buffer.from(v, 'base64').toString('hex');\nlet decodeFundDeposit = s => (([timestamp, amountX, transactionX, fromPubKeyX]) => { let fromPubKey = b64ToHex(fromPubKeyX);\n  return {timestamp, txId: b64ToHex(transactionX), fromPubKey, fromBtcAddress: pubKeyToBtcAddress(fromPubKey), satoshiBN: BN(b64ToHex(amountX), 16)}; } )(T(s)); \nlet decodeDeposit = s => (([timestamp, amountX, transactionX, fromBtcAddressX]) => {  \n  return {timestamp, txId: b64ToHex(transactionX), fromBtcAddress: fromBtcAddressX && bs58check.encode(Buffer.from(fromBtcAddressX, 'base64')), satoshiBN: BN(b64ToHex(amountX), 16)}; } )(T(s)); \n  \nlet hostname = window.location.hostname;\nhostname = (hostname === \"localhost\") ? \"spacetimemanifolds.com\" : hostname;\nconst btcRpcUrl = `https://btc.${hostname}/`; //`http://157.245.35.34/`,  \nconst ethInterfaceUrl = `https://eth.${hostname}/`; //\"ws://46.101.6.38/ws\";  \nconst ethInterfaceUrls = [ethInterfaceUrl, ethInterfaceUrl + 'ganache/']; //\"ws://46.101.6.38/ws\";  \n//ethInterfaceUrl = \"http://46.101.6.38:8547/\";  \n//const web3 =  new Web3(new Web3.providers.HttpProvider(\"https://mainnet.infura.io/v3/efc3fa619c294bc194161b66d8f3585e\"));\nlet amfeixFeeFields = T(\"fee1 fee2 fee3\");\nlet invMap = (countTable, dataTable) => ({countTable, dataTable}); \nlet amfeixAddressLists = [\"fundDepositAddresses\", \"feeAddresses\"];\nlet timeAndAmount = T(\"time amount\"), indexMaps = amfeixAddressLists, investorMaps = [invMap(\"ntx\", \"fundTx\"), invMap(\"rtx\", \"reqWD\")]; \nlet ethBasicFields = T(\"owner aum decimals btcPrice\").concat(amfeixFeeFields).concat(amfeixAddressLists.map(k => `${k}Length`));\nconst btcFields = T(\"blockcount connectioncount difficulty blockchaininfo\");\n\nlet btcRpc = async (method, func, params) => JSONBig.parse((await ((await fetch(`${btcRpcUrl}${func}/${method === \"GET\" && params ? `?${E(oO(params)).map(x => x.map(encodeURIComponent).join(\"=\")).join(\"&\")}` : ''}`, \n { method, mode: 'cors', headers: { \"content-type\": \"application/json\" }, ...(method === \"POST\" ? { body: S({params}) }: {}) })).text())));\n\nlet invMapDBStruc = ({countTable, dataTable}) => ({ ...singleKeyObject(countTable, struc([\"investorIx\"])), ...singleKeyObject(dataTable, struc([\"investorIx\", \"index\"], [[\"investorIx\", \"investorIx\", false]])) })\n \nexport let tableStrucMap = {}\nlet hierName = (o, p) => F(E(o).map(([k, v]) => { let q = p ? [p, k].join(\"-\") : k; return [k, isA(v) ? (tableStrucMap[q] = {...v[0], table: q}, q) : hierName(v, q)]; }));\nlet struc = (keyPath, indices) => [{ keyPath, indices }];\nlet tables = hierName({ \n  eth: { constants: struc([\"name\"], [[\"name\", \"name\", true]]),  ...invMapDBStruc(investorMaps[0]), ...invMapDBStruc(investorMaps[1]), \n  ...F(T(\"time amount\").concat(indexMaps).map(k => [k, struc([\"index\"])])), investorsAddresses: struc([\"index\"], [[\"data\", \"data\", true]])  }, \n  btc: { constants: struc([\"name\"], [[\"name\", \"name\", true]]), ...invMapDBStruc(investorMaps[0]), ...invMapDBStruc(investorMaps[1]) },\n  queue: { ethTransactions: struc([\"index\"]) }\n}); \n\nlet constantFields = { btc: btcFields, eth: ethBasicFields };\nlet constantRetrievers = { \n  btc: name => async () => ({ name, value: await btcRpc(\"GET\", `get${name}`) }),\n  eth: name => async () => ({ name, value: await amfx.amfeixM()[name]().call() })\n} \n\nlet timeFunc = async f => {\n  let startTime = Date.now();\n  let result = await f();\n  return { result, time: Date.now() - startTime };\n}\n \nlet getInvestorDataKey = investor => `investor_${investor.data}`;\nlet getInvestorWalletDataKey = investor => `investor_Wallet_${investor.btcAddress}`; \n\nclass Transaction { constructor(method, parms) { A(this, { method, parms }); } }\n\nclass Scheduler {\n  constructor(interval, onUpdate) {\n    this.intervalHandle = setInterval(async () => { await onUpdate(); this.lastUpdate = Date.now(); }, interval);\n  }\n}\n\nlet fetchDeposits = async (fromPubKey, toAddr) => oA(oO(await btcRpc(\"GET\", L(`getdeposits/toAddress/${toAddr || '_'}/fromPublicKey/${fromPubKey || '_'}`))).data).map(decodeDeposit);\n\nclass Data extends Persistent {\n  constructor() { super(\"data\", [\"localData\"], { localData: { dbix: 173 } }); L('Creating Data class instance.');\n    //this.localData = (d => d ? L(JSON.parse(d)) : { dbix: 60 })((localStorage.getItem(\"_\")));\n    if (newDB) this.localData.dbix++; \n    A(this, { tables, tableStrucMap, investorData: {}, observers: {}, data: {}, loadProgress: { progress: {}, timings: {} }, syncCache: new SyncCache(), idb: new IndexedDB(S(this.localData.dbix)), adminLoadInitiated: false, queuedEthTransactions: [] }); \n    for (let q = 0; q < this.localData.dbix; ++q) this.idb.deleteDB(S(q));\n    this.persist(); \n     \n    this.setEthRPCUrl(ethInterfaceUrl); \n    this.onLoadProgress = name => d => { this.loadProgress.progress[name] = d; this.syncCache.setData(\"loadProgress\", this.loadProgress); };\n    this.onGlobalLoad = (step, length, done) => this.updateLoadProgress(this.onLoadProgress(\"Loading...\"), step, length || 7, done);\n    this.updateConstants = F(E(constantFields).map(([t, f]) => [t, () => this.measureTime(`Constants (${t})`, async () => await Promise.all(f.map(async name => { \n      let result = await constantRetrievers[t](name)();\n      this.syncCache.setData(name, result.value); \n      await this.setData(tables[t].constants, (result));\n    })))]));\n    this.updateConstants.eth = () => this.measureTime(`Constants (eth)`, async () => { \n      let buf = this.idb.newBuffer();\n      constantFields.eth.forEach(name => amfx.queueOp(name, [], value => { this.syncCache.setData(name, value); buf.write(tables.eth.constants, { name, value }); }, err => L(`Eth constant retrieval error ${S(err)}`))); \n      await amfx.flushBatch(); await buf.flush();\n    });\n    \n    this.functionsToPerformAfterBasicLoad = [];\n    this.functionsToPerformAfterGenericLoad = [];\n\n    (async () => { await this.idb.init(); this.syncCache.setData(\"dbInitialized\", true); await this.genericLoad(); })(); \n  }\n\n  set queuedEthTransactions(a) { this.syncCache.setData(\"queuedEthTransactions\", a); }\n  get queuedEthTransactions() { return this.syncCache.getData(\"queuedEthTransactions\"); }\n\n  async signAndSubmitQueuedEthTransactions(privateKey, testMode) { await this.measureTime(\"Basic Load\", async () => {\n    let from = \"0xADBfBEd800B49f84732F6D95fF5C924173C2C06A\";\n    L(`Generating ${this.queuedEthTransactions.length} transactions...`);\n    L({privateKey});\n    testMode = true;\n    L({accounts: await amfx.web3.eth.personal.getAccounts()})\n    let account = amfx.web3.eth.accounts.privateKeyToAccount(privateKey); \n    this.queuedEthTransactions = await Promise.all(this.queuedEthTransactions.map(async t => {\n      L(`Pending tx: ${S(t)}`);\n      let u = amfx.amfeixM()[t.method](...t.parms); \n//      L(`u = ${S(u)}`);\n      let options = L({from, to: amfeixAddress, gas: Math.max(25000, await u.estimateGas({ from, to: amfeixAddress })), data: u.encodeABI() });\n      let z = await amfx.web3.eth.sendTransaction(options); L(`Sendtransaction result = ${S(z)}`); \n//      let x = await account.signTransaction(options); L(`Signed tx: ${S(x)}`);\n  //    let z = await w3.web3.eth.sendSignedTransaction(x.rawTransaction); L(`Submitted tx: ${S(z)}`);\n      return ({ ...t, ...P(z, T(\"gasUsed blockNumber transactionHash\")), status: z.status === true ? \"Submitted\" : \"Failed\" });\n    })); \n  })}\n\n  runWhenDBInitialized(f) { let obs = this.syncCache.watch(\"dbInitialized\", () => { f(); obs.detach(); }) }\n\n  async updateFixedLengthArray(name) { await this.measureTime(`Update '${name}' array`, () => this.updateArray(name, `${name}Length`)) }\n\n  async basicLoad() { await this.measureTime(\"Basic Load\", async () => { this.onGlobalLoad(0);\n    await Promise.all([this.loadTimeData(), ...V(this.updateConstants).map(x => x()), ...indexMaps.map(l => this.updateFixedLengthArray(l))]); this.onGlobalLoad(1); L('L1');\n    await this.updateSyncCache(); this.onGlobalLoad(2); L('L2');\n    await this.computeTimeDataFromTimeAndAmount(); this.onGlobalLoad(3); L('L3');\n    for (let q of oA(this.functionsToPerformAfterBasicLoad)) await q();\n  }); }\n\n  performAfterBasicLoad(f) { this.functionsToPerformAfterBasicLoad.push(f); }\n  performAfterGenericLoad(f) { this.functionsToPerformAfterGenericLoad.push(f); }\n\n  async updateSyncCache() { await this.measureTime(\"updateSyncCache\", () => Promise.all(T(\"investorsAddresses\").map(async t => this.syncCache.setData(t, (await this.idb.getAll(tables.eth[t])))))); } \n \n  async updateRegisteredEthTransactions() { await this.measureTime(\"Update Registered Eth Transactions\", async () => {\n    await Promise.all(investorMaps.map(m => this.updateInvestorMappedArray(this.onLoadProgress(`Smart contract registered transactions: ${m.dataTable}`), m))); \n  }); }\n  async updateRegisteredBtcTransactions() { await this.measureTime(\"Update Registered Btc Transactions\", async () => {\n    let fundDeposits = this.syncCache.getData(\"fundDeposits\");\n    let fundDepositObj = F(fundDeposits.flat().map(x => [x.txId, x]));\n    await Promise.all(investorMaps.map(m => this.updateBitcoinTxs(this.onLoadProgress(`Bitcoin transactions: ${m.dataTable}`), m, fundDepositObj))); \n  }); }\n\n//  async updateInvestorAddresses() { await this.measureTime(\"Update Investor Addresses\", async () => { await this.updateArray(\"investorsAddresses\"); }); }\n\n  async genericLoad() { await this.measureTime(\"Generic Load\", async () => {\n    await this.basicLoad(); \n    await this.updateInvestorsAddresses(this.onLoadProgress(`Update investors addresses`)); this.onGlobalLoad(4);\n    await Promise.all([this.updateRegisteredEthTransactions(), this.fetchFundDeposits()]); this.onGlobalLoad(5);\n    await this.updateRegisteredBtcTransactions(); this.onGlobalLoad(6);\n    await this.computeData(); this.onGlobalLoad(7, 7, true);\n    for (let q of oA(this.functionsToPerformAfterGenericLoad)) await q();\n  }); } \n\n  async registerInvestorAddress(address) {  \n    let investorsAddresses = await amfx.amfeixM().getAllInvestors().call();\n    let index = investorsAddresses.map(x => x.toLowerCase()).indexOf(address.toLowerCase());\n    if (index >= 0) { let investor = { index, data: address }; L(`inv = ${S(investor)}`)\n      await this.setData(tables.eth.investorsAddresses, investor);\n      await Promise.all(investorMaps.map(m => this.updateInvestorArray(investor, m))); \n      await this.updateSyncCache();\n      await this.updateRegisteredTransactions();\n      await this.computeData();\n      return investor;\n    } \n  }\nf\n  setEthRPCUrl(newRPCUrl) { //L(`nweRPCURL: ${newRPCUrl}`)\n    amfx.setWeb3Url(newRPCUrl);\n    this.syncCache.setData(\"ethRPCUrl\", newRPCUrl);\n//    (async() => L(`Personal accounts: ${S(await oF(oO(w3.web3.eth.personal).getAccounts)())}`))();\n  }\n\n  getFundDepositAddresses() { return L(this.syncCache.getData(\"fundDepositAddresses\")).map(x => x.data).filter(z => z.length > 0); }\n  getFundDepositPubKeys() { return [\"03f1da9523bf0936bfe1fed5cd34921e94a78cac1ea4cfd36b716e440fb8de90aa\"]; }\n\n  async fetchFundDeposits() { this.syncCache.set({ fundDeposits: await Promise.all(this.getFundDepositAddresses().map(a => fetchDeposits(U, a))) }); };\n\n  async retrieveInvestorWalletData(investor) { L({investor}); if (investor.pubKey && investor.btcAddress) {\n    let key = getInvestorWalletDataKey(investor);\n    let cached = await this.syncCache.getData(key);\n    if (D(cached)) return cached;  \n\n    let investorWalletData = G(await W({ Deposits: fetchDeposits(U, investor.btcAddress), Withdrawals: [],//fetchDeposits(investor.pubKey),\n      Investments: Promise.all(this.getFundDepositAddresses().map(async a => (await fetchDeposits(investor.pubKey, a)).map(d => ({...d, fundDepositAddress: a })))),\n      Returns: []//Promise.all(this.getFundDepositPubKeys().map(async a => (await fetchDeposits(a, investor.btcAddress)).map(d => ({...d, fundDepositPubKey: a })))),\n    }), v => v.flat());\n    return this.syncCache.setData(key, investorWalletData); \n  } }\n\n  getDecimals() { return this.syncCache.getData('decimals'); } \n  getFactor() { return BN(10).pow(this.getDecimals()); } \n\n  async computeTimeDataFromTimeAndAmount() { await this.measureTime(\"Fund Index chart computation\", async () => {  \n    let f = this.getFactor(), ff = f.times(100), performance = [], [time, amount] = T(\"time amount\").map(t => (this.syncCache.getData(t))).map(y => (y).map(x => x.data));  \n    for (let x = 0, acc = BN(1.0); x < amount.length; ++x) performance.push([time[x], acc = acc.times(ff.plus(BN(amount[x])).div(ff))]);  \n    let timeData = performance.map(([t, d]) => [1000*t, parseFloat(d.toString())]);\n    E(({ timeData, roi: (100*timeData[timeData.length - 1][1] - 100), dailyChange: parseFloat((BN(amount[amount.length - 1]).div(f)).toString()) })).forEach(([k, v]) => this.syncCache.setData(k, v));\n    this.performance = performance;\n  }); }\n\n  getPerformanceIndex(time, lowIndex, highIndex) { let p = this.performance, low = lowIndex || 0, high = highIndex || (p.length - 1); // L(`gpi(${time}, ${low}, ${high})`)\n    while (high > low) { let m = low + ((high - low) >> 1); if (p[m][0] > time) { high = m; } else if (low < m) { low = m; } else break; }\n    return high;\n  }\n\n  async loadTimeData() { await this.measureTime(\"Fund Index chart data\", async () => {\n    let onLoadProgress = this.onLoadProgress(\"Fund Index chart data\");\n    let countKey = name => ({ name: `${name}.counts` });\n    let sIx = async name => oO(await this.getData(tables.eth.constants, countKey(name))).startIndex || 0;\n    let length;\n    if ((await sIx(\"time\") === 0) && (await sIx(\"amount\") === 0)) { await this.measureTime(\"Fund Index chart data (single step)\", async () => {\n      let buf = this.idb.newBuffer();\n      this.updateLoadProgress(onLoadProgress, 0);\n      let timeData = await amfx.amfeixM().getAll().call();\n      length = timeData[0].length;\n      for (let index = 0; index < length; ++index) {\n        [\"time\", \"amount\"].forEach((t, i) => buf.write(tables.eth[t], { index, data: (i === 0 ? parseInt : I)(timeData[i][index]) }));\n      }\n      [\"time\", \"amount\"].forEach(name => buf.write(tables.eth.constants, {...countKey(name), startIndex: length }));\n      let result = await buf.flush();\n      this.updateLoadProgress(onLoadProgress, length, length, true);\n      timeAndAmount.forEach((t, i) => this.syncCache.setData(t, timeData[i].map((data, index) => ({ index, data }))));\n    }) } else { await Promise.all(timeAndAmount.map(l => this.updateArray(l))); }\n  }); }\n\n  async updateInvestorsAddresses(onLoadProgress) { await this.measureTime(\"Investors addresses\", async () => {\n    let countKey = name => ({ name: `${name}.counts` });\n    let sIx = async name => oO(await this.getData(tables.eth.constants, countKey(name))).startIndex || 0;\n    if (false && (await sIx(\"investorsAddresses\") === 0)) { await this.measureTime(\"Investors addresses (single step)\", async () => {\n      let buf = this.idb.newBuffer();\n      this.updateLoadProgress(onLoadProgress, 0);\n      let investorsAddresses = await amfx.amfeixM().getAllInvestors().call(); \n      let length = investorsAddresses.length;\n      investorsAddresses.forEach((data, index) => buf.write(tables.eth.investorsAddresses, { index, data }));\n      buf.write(tables.eth.constants, {...countKey(\"investorsAddresses\"), startIndex: length });\n      await buf.flush(); \n      this.updateLoadProgress(onLoadProgress, length, length, true);\n    }) } else { await this.updateArray(\"investorsAddresses\"); } \n  }); }\n\n  updateLoadProgress(onLoadProgress, index, length, done) { onLoadProgress({ index, length: D(length) ? length : (done ? index : \"unknown\") }); }\n\n  async updateGenericArray(onLoadProgress, name, { length, startIndex }, countKey, countTable, dataTable, parms, buf, w3Batcher) {\n    if (onLoadProgress) this.updateLoadProgress(onLoadProgress, startIndex, length);\n    let index = startIndex;\n    let localBuf = buf || this.idb.newBuffer();\n    let masterKeys = F(oA(tableStrucMap[dataTable].keyPath).map(k => [k, countKey[k]]));\n    let final = async (resolve) => {\n      localBuf.write(countTable, ({ ...countKey, startIndex: length, length })); //L('I'); \n      if (!D(buf)) await localBuf.flush();\n      if (onLoadProgress) this.updateLoadProgress(onLoadProgress, length, length, true);\n      resolve();\n    }\n    if (D(length)) {\n      return new Promise(async (resolve, reject) => { try {\n        let w3b = w3Batcher || amfx;\n        let completed = 0;\n        if (index === length) await final(resolve);\n        while ((index < length)) { let currentIx = index++; \n          w3b.queueOp(name, [...oA(parms), currentIx], async data => {\n            localBuf.write(dataTable, ({ ...masterKeys, index: currentIx, data })); //L('D');\n            if (onLoadProgress) this.updateLoadProgress(onLoadProgress, completed, length);\n            if (++completed === length - startIndex) { await final(resolve); }\n          }, err => { L(`Error in '${name}' array update: ${S(err)}`) });  \n        }\n        if (!D(w3Batcher)) { L('flushB'); await amfx.flushBatch(); }\n      } catch(err) { reject(err) } });\n    } else {\n      try { while (!D(length) || (index < length)) { //L(`Processing item ${index} for ${name} (${dataTable}) with parms = ${S(parms)}`);\n        let data = await (amfx.amfeixM()[name](...oA(parms), index).call()); //L('C');\n        if (isS(data) && data.length === 0) throw new Error(`Empty resposne for ${name}(${parms})`);\n        localBuf.write(dataTable, ({ ...masterKeys, index: index++, data })); //L('D');\n        if (onLoadProgress) this.updateLoadProgress(onLoadProgress, index, length); \n      } } catch {} // { L(`Array ${name} stopped at ${index}.`) } \n      await final(I); \n      return Promise.resolve();\n    }\n  }\n\n  async updateArray(arrayName, lengthName, parms) { \n    let olp = this.onLoadProgress(`Update '${arrayName}' array`);\n    await this.measureTime(`Update '${arrayName}' array`, async () => { L(`update array ${arrayName}`);\n      let countKey = ({ name: lengthName || `${arrayName}.counts` }); \n      let alsi = (await this.getArrayLengthAndStartIndex(tables.eth.constants, countKey, lengthName, parms)); \n      if (D(alsi.value) && !D(alsi.length)) alsi.length = parseInt(alsi.value);\n      let p = await this.updateGenericArray(olp, arrayName, alsi, countKey, tables.eth.constants, tables.eth[arrayName], parms);//, U, U, () => dp.resolve());\n      await amfx.flushBatch(); await p;\n    });\n    await this.measureTime(`Cache '${arrayName}' array`, async () => this.syncCache.setData(arrayName, (await this.idb.getAll(tables.eth[arrayName]))));  \n  } \n\n  async getArrayLengthAndStartIndex(countTable, countKey, lengthName, parms) { //L(`galsi(${countTable}, ${S(countKey)}, ${lengthName}, ${parms})`)\n    let alsi = oO(await this.getData(countTable, countKey, lengthName && (async () => ({ ...countKey, length: parseInt(await amfx.amfeixM()[lengthName](...oA(parms)).call()) }))));\n//    this.updateLoadProgress(onLoadProgress, alsi.startIndex, alsi.length);\n    //L(`galsi(${countTable}, ${S(countKey)}, ${lengthName}, ${parms}) ==> ${S({ alsi })}`) \n    return ({ startIndex: 0, ...alsi });\n  } \n\n  updateInvestorArray(investor, { countTable, dataTable }, buf, w3Batcher) { \n    let countKey = { investorIx: investor.index }, parms = [investor.data]; \n    return new Promise(async (resolve, reject) => { try {\n      w3Batcher.queueOp(countTable, parms, async length => {\n        resolve(await this.updateGenericArray(U, dataTable, { startIndex: 0, length: parseInt(length) }, countKey, tables.eth[countTable], tables.eth[dataTable], parms, buf, w3Batcher));\n      }, err => L(`Error while getting array length for '${countTable}-${dataTable}' for investor ${investor.data}: ${S(err)}`));\n    } catch(err) { reject(err); } }); //L(`uima ${dataTable} final`);\n  }\n\n  async updateInvestorMappedArray(onLoadProgress, { countTable, dataTable }) { await this.measureTime(`Update invsetor mapped array '${dataTable}'`, async () => {\n    L(`uima(${countTable}, ${dataTable})`);\n    let olp = onLoadProgress;\n    let { startIndex, length, investorMapCountKey } = await this.getInvestorMapUpdateCountData(countTable, dataTable, `eth`);\n    let ix = startIndex;\n    let investors = this.syncCache.getData(\"investorsAddresses\"); \n    length = investors.length;\n    let localBuf = this.idb.newBuffer();\n    let completed = 0;\n    let p = Promise.resolve();\n    while (ix < length) { let q = p;\n      let r = this.updateInvestorArray(investors[ix++], { countTable, dataTable }, localBuf, amfx);\n      p = (async () => { await q; await await r; this.updateLoadProgress(olp, ++completed, length); })();\n    };\n    await amfx.flushBatch(); await p;\n    this.updateLoadProgress(olp, ix, length);\n    await amfx.flushBatch(); L(`uima ${dataTable} local buf flush`);\n    await localBuf.flush(); L(`uima ${dataTable} local buf done`);\n    if (ix !== startIndex) await this.setData(tables.eth.constants, ({...investorMapCountKey, startIndex: ix }));\n    L(`uima(${countTable}, ${dataTable}) end`);\n  }); }\n\n  async getInvestorMapUpdateCountData(countTable, dataTable, type, lengthTable) {\n    let investorMapCountKey = { name: `${countTable}-${dataTable}.counts` };\n    let length = lengthTable && await this.idb.count(lengthTable);\n    let startIndex = oO(await this.getData(tables[type].constants, investorMapCountKey)).startIndex || 0;\n    return { startIndex, length, investorMapCountKey, index: startIndex };\n  }\n\n  async updateBitcoinTxs(onLoadProgress, { countTable, dataTable }, fundDepositObj) { //L(`uima(${name}, ${countTable}, ${dataTable})`);\n    let { index, length, investorMapCountKey } = await this.getInvestorMapUpdateCountData(countTable, dataTable, `btc`, tables.eth[dataTable]);\n    let buf = this.idb.newBuffer();\n    for (let d of (await this.idb.getAll(tables.eth[dataTable])).slice(index)) { let key = { investorIx: d.investorIx, index: d.index };\n      let fd = fundDepositObj[d.data[0]];\n//      L({fd})\n      if (D(fd)) { buf.write(tables.btc[dataTable], {...key, value: fd.satoshiBN.toString(ALPHABET.length) }); }\n      else { L(`Bitcin fund deposit not found for ${d.data[0]}`); }\n      buf.write(tables.btc.constants, { ...investorMapCountKey, startIndex: ++index });\n      this.updateLoadProgress(onLoadProgress, index, length);\n    }\n    await buf.flush();\n    this.updateLoadProgress(onLoadProgress, length, length, true);\n  }\n\n  async clearTransactionCache(t) { await Promise.all([\n    ...T(\"ntx fundTx rtx reqWD\").map(z => this.idb.clear(tables[t][z])),\n    ...T(\"ntx-fundTx rtx-reqWD\").map(z => this.idb.write(tables[t].constants, { name: `${z}.counts`, startIndex: 0 }))\n  ]); }  \n\n  async clearCache() { await Promise.all(K(tables).map(t => K(tables[t]).map(z => tables[t][z])).flat().map(n => this.idb.clear(n))); }\n\n  getKey(table, data) { return (`${table}${isO(data) ? `:[${tableStrucMap[table].keyPath.map(a => data[a]).join(\",\")}]` : ''}`) }\n\n  async setData(table, data) { return await this.idb.write(table, data); }\n  async getData(table, data, retriever) { return (await this.idb.get(table, data)) || (retriever && (await this.setData(table, await retriever()))); } \n\n  async measureTime(name, promise) { this.loadProgress.timings[name] = (await timeFunc(promise)).time; } \n\n  async computeData() { await this.measureTime(\"computeData\", async () => {\n    let investors = [], approvedDeposits = {}, fundDeposits = this.syncCache.getData(\"fundDeposits\"); \n    let investorsAddresses = this.syncCache.getData(\"investorsAddresses\"); let olp = this.onLoadProgress(\"Computing data structures\");  \n    let d = await Promise.all(investorMaps.map(async im => await Promise.all(['eth', 'btc'].map(t => this.idb.getAll(tables[t][im.dataTable])))));\n    let e = d.map(im => im.map(x => F(x.map(z => [z.investorIx, []]))));\n    d.forEach((im, a) => im.forEach((x, b) => x.forEach(z => { e[a][b][z.investorIx].push(z); } ))); \n    for (let ix = 0; ix < investorsAddresses.length; ++ix) { this.updateLoadProgress(olp, ix, investorsAddresses.length);\n      let investor = await this.retrieveInvestorData(investorsAddresses[ix], U, e); \n      let i = { index: investorsAddresses[ix].index, address: investorsAddresses[ix].data, investmentValue: investor.investmentValue, Withdrawal_Requests: investor.Withdrawal_Requests };\n      investors.push(i);\n      investor.Deposits.forEach(d => { approvedDeposits[d.txId] = true; });\n    }   \n//    this.syncCache.set({ investorsAddresses }); \n//    L({ investors: investorsAddresses.map(i => P(i, T(\"pubKey btcAddress\"))) });\n    this.syncCache.set({ investors, withdrawalRequests: investors.map(i => i.Withdrawal_Requests).flat(), pendingDeposits: G(fundDeposits, v => v.filter(d => !approvedDeposits[d.txId])) });  \n    this.updateLoadProgress(olp, investorsAddresses.length, investorsAddresses.length);\n  }); };\n\n  async retrieveInvestorData(investor, lengths, allData) { //L(`retrieveInvestorData = ${S(investor)}`);\n    let cached = this.syncCache.getData(getInvestorDataKey(investor));\n    if (cached) { L('cached'); return cached; }\n    if (!D(investor.index)) { L({investor});\n      L(`finding index for investor.data = ${investor.data}`);\n      let i = await this.idb.get(tables.eth.investorsAddresses, { data: investor.data }, \"data\", [\"data\"]);\n      investor.index = oO(i).index;\n      L(`returned ${S(i)}`)\n    }\n    let invKey = { investorIx: investor.index }; //L(`Retrieving investor ${investor} data`);\n//    L(`invKey = ${S(invKey)}`);\n    let ethDataMap = ([txId, pubKey, signature, action, timestamp]) => ({ timestamp: parseInt(timestamp), txId, pubKey, signature, action });\n    let dataMaps = { eth: x => ({index: x.index, ...ethDataMap(((x.data)))}), btc: x => ({index: x.index, value: BN(x.value, ALPHABET.length) }) }\n    let txs, reqWD;\n//    L(`getting data for investor ${investor.index}`);\n    if (D(allData)) {\n      [txs, reqWD] = allData.map((im, j) => {\n//        L({im});\n        let [e, b] = ['eth', 'btc'].map((t, z) => (oA(im[z][invKey.investorIx])).map(oO).map(dataMaps[t]));\n        for (let index = 0; index < Math.min(e.length, b.length); ++index) e[index].value = b[index].value;\n        return (e);\n//        process.exit();\n      });\n    } else {\n      let getList = async (m, j) => {  \n        let fastLength = (oO(oA(lengths)[j]))[(invKey.investorIx)];\n        let length = D(fastLength) ? (fastLength) : ((oO(await this.idb.get((tables.eth[(m).countTable]), (invKey)))).length || 0);\n        let [e, b] = await Promise.all(['eth', 'btc'].map(async t => {             \n          let buf = this.idb.newBuffer();\n          let r  = []; \n          for (let index = 0; index < length; ++index) { r.push(U); buf.get(tables[t][m.dataTable], ({...invKey, index}), d => { r[index] = d; }); }\n          await buf.flush(); \n          return r.map(oO).map(dataMaps[t]);\n        }));\n        for (let index = 0; index < length; ++index) e[index].value = b[index].value;\n        return (e);\n      };\n      [txs, reqWD] = await Promise.all(investorMaps.map(getList));\n    }\n\n    let toObj = a => F(a.map(e => [e.txId, e]));\n    let dedup = d => V(toObj(d)); // XXX: does not check if duplicates are identical -- only retains one of them with same txId   \n    investor.pubKey = oO(oA(txs)[0]).pubKey;\n    \n    let data = F([\"Deposits\", \"Withdrawals\"].map((k, i) => [k, dedup(txs.filter(x => x.action === S(i)))]));\n    data.Withdrawal_Requests = dedup(reqWD);\n    let objs = G(data, toObj);\n    let has = G(objs, v => x => D(v[x.txId]));  \n    let g = ({ \n      Deposits: data.Deposits,// hasWithdrawalRequest: has.withdrawalRequest(d) })), \n      Withdrawal_Requests: data.Withdrawal_Requests.filter(x => has.Deposits(x) && !has.Withdrawals(x)), \n      Withdrawals: data.Withdrawals.filter(x => has.Deposits(x) && has.Withdrawal_Requests(x)) \n    });\n\n    let investment = g.Deposits.concat(g.Withdrawals).sort((a, b) => a.timestamp - b.timestamp); \n    let currentValueAcc = BN(0); \n    for (let d of g.Deposits) { d.status = ((has.Withdrawals(d)) ? stati.Deposits.Withdrawn : (has.Withdrawal_Requests(d) ? stati.Deposits.Withdrawal_Requested : stati.Deposits.Active));\n      let endTimestamp = (oO(objs.Withdrawal_Requests[d.txId]) || oO(objs.Withdrawals[d.txId])).timestamp || 0;\n      let endIx = (d.status === stati.Deposits.Active) ? this.performance.length - 1 : this.getPerformanceIndex(endTimestamp);\n      let startIx = this.getPerformanceIndex(d.timestamp), startPerf = this.performance[startIx];\n      let endPerf = this.performance[endIx][1];\n      let appliedPerf = (startPerf[0] >= d.timestamp) ? startPerf[1] : endPerf;\n//      L(`num = ${appliedPerf.toString()}`); \n      //d.performance  = perf.toString();\n      //L({appliedPerf});      L({d});\n      d.finalValue = (appliedPerf.isZero() || !D(d.value)) ? U : d.value.times(endPerf.div(appliedPerf));\n      d.hasWithdrawalRequest = has.Withdrawal_Requests(d) ? \"Yes\" : \"No\";\n      d.hasWithdrawal = has.Withdrawals(d) ? \"Yes\" : \"No\";\n    }\n    for (let wr of g.Withdrawal_Requests) wr.status = has.Withdrawals(wr) ? stati.Withdrawal_Requests.Processed : stati.Withdrawal_Requests.Pending;\n    for (let i of investment) { let v = i.value; \n//      i.accValue = (acc = (i.action === \"0\" ? acc.plus(v) : acc.minus(v)));  \n      i.accCurrentValue = currentValueAcc && ((currentValueAcc = (i.action === \"0\" ? (D(i.finalValue) ? currentValueAcc.plus(i.finalValue) : U) : currentValueAcc.minus(v)))); \n    }\n  //  g.investment = investment.map(x => [1000*x.timestamp, parseFloat(x.accValue.toString())]);\n    g.investmentValue = currentValueAcc && parseFloat(satoshiToBTCString(currentValueAcc));\n    g.valueSeries = () => g.computedValues ? g.computedValues : (g.computedValues = investment.map(x => [1000*x.timestamp, parseFloat(x.accCurrentValue && satoshiToBTCString(x.accCurrentValue))]));\n//    for (let d of g.Deposits) { T(\"finalValue value\").forEach(v => { if (D(d[v])) d[v] = d[v].toString(); }); }\n  //  for (let d of g.Withdrawal_Requests) { T(\"value\").forEach(v => { if (D(d[v])) d[v] = d[v].toString(); }); }\n    //for (let d of g.Withdrawals) { T(\"value\").forEach(v => { if (D(d[v])) d[v] = d[v].toString(); }); }\n      //L(g);\n    return this.syncCache.setData(getInvestorDataKey(investor), g);\n  }\n\n  async checkConsistency(investor) {\n    try {\n      investor.derivedEthAddress = pubKeyToEthAddress(investor.pubKey, true); \n      investor.btcAddress = pubKeyToBtcAddress(investor.pubKey);   \n      investor.anomalous = anomalousInvestorIndexMap[investor.index] ? \"Yes\" : \"No\";\n      if (investor.derivedEthAddress.toLowerCase() !== investor.data.toLowerCase()) L(`Investor (${investor.index}): Address discrepancy ${investor.data} !== ${investor.derivedEthAddress}`)\n    } catch (err) { investor.pubKeys = []; investor.error = \"Yes\"; investor.anomalous = \"Yes\"; } \n  }\n\n  getInvestorData(investor) { return this.investorData[investor] = D(this.investorData[investor]) ? this.investorData[investor] : this.retrieveInvestorData(investor); }\n}\n\nL(`032b54175dac49b86d33528488dc1770223be678fe9e283ff210d6841f109230c7 ==> ${S({btc: pubKeyToBtcAddress(\"032b54175dac49b86d33528488dc1770223be678fe9e283ff210d6841f109230c7\"),\neth: pubKeyToEthAddress(\"032b54175dac49b86d33528488dc1770223be678fe9e283ff210d6841f109230c7\")})}`)\n\nlet data = new Data(); \n  \nexport { Transaction, stati, ethInterfaceUrls, btcRpcUrl, btcFields, ethBasicFields, getInvestorDataKey, getInvestorWalletDataKey, data, amfeixFeeFields, amfeixAddressLists };","// eslint-disable-next-line\nimport { A, L, P, S, oO } from '../common/tools'\n\nexport class Persistent {\n  constructor(persistanceKey, storedFieldNames, defaults) {\n    A(this, { persistanceKey, storedFieldNames })\n    A(this, (d => d ? A(oO(defaults), P(JSON.parse(d), this.storedFieldNames)) : oO(defaults))((localStorage.getItem(this.persistanceKey))));\n    //L(`Loaded ${persistanceKey}: ${S(P(this, L(this.storedFieldNames)))}`)\n  }\n\n  persist() { \n    localStorage.setItem(this.persistanceKey, S(P(this, this.storedFieldNames))); \n  }\n}","import { BigNumber } from 'bignumber.js'\n\nlet ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$@';\n\nBigNumber.config({ ALPHABET }); //DECIMAL_PLACES: 20 });\n\nlet BN = (v, b) => new BigNumber(v ,b);\n//let bnClone = d => BigNumber.clone(d);\n\nexport { BN, ALPHABET }","import Web3 from 'web3';\nimport amfeixCjson from '../amfeixC.json';\nimport { A, F, I, L, S, oA, oO } from '../common/tools';\nimport { BN } from './bignumber';\nimport aggregate from '@makerdao/multicall/src/aggregate';\n\nexport let amfeixAddress = \"0xb0963da9baef08711583252f5000Df44D4F56925\";\n \nclass ABI { constructor(abi) { this.methodMap = F(abi.filter(x => x.type === \"function\").map(x => [x.name, x])); } }\n\nlet abi = new ABI(amfeixCjson.abi);\n//L(`abi keys = ${K(abi)}`);\n//\nclass MultiCallBatch {\n  constructor() { this.calls = []; }\n  add(target, method, params, onSuccess, onError) { this.calls.push(({ target, method, params, onSuccess, onError })); }\n  async execute(rpcUrl) {\n    // L(`Executing multicall length: ${this.calls.length}`)\n    //L(`I = ${S(I)}`);\n    //    L(`MultiCallBatch input = ${S(this.calls)}`);\n    let calls = this.calls.map((c, i) => {\n      let m = abi.methodMap[c.method];\n      return ({ target: c.target, call: [`${c.method}(${m.inputs.map(x => x.type).join(\",\")})(${m.outputs.map(x => x.type).join(\",\")})`, ...c.params], returns: m.outputs.map((x, j) => [`${i}_${j}`, I]) });\n    });\n    //    L({calls});\n    let response = await aggregate(calls, { rpcUrl, multicallAddress: '0x5e227AD1969Ea493B43F840cfF78d08a6fc17796' });\n    let results = oO(oO(response).results).original;\n    //L(`MultiCallBatch results = ${S(results)}`)\n    this.calls.forEach((c, i) => {\n      let m = abi.methodMap[c.method];\n      let q = m.outputs.map((x, j) => {\n        let r = results[`${i}_${j}`];\n        if (oO(r)._hex) { r = BN(r._hex.slice(2), 16).toString(); }\n        return r;\n      });\n      //      L({method: c.method, parms: c.params, q});\n      return c.onSuccess(q.length === 1 ? q[0] : q);\n    });\n  }\n}\n\nclass AmfeixContract {\n  setWeb3Url(url) {\n    A(this, { url, queuedOps: [], batchIx: 0, queuedOpCount: 0, processedOpCount: 0, queuedBatches: [], processing: false, inFlight: [], maxInFlight: 16, nextIx: 0, batchSize: 64, activeBatch: Promise.resolve() });\n    this.web3 = new Web3(new (this.url.indexOf(\"ws://\") === 0 ? Web3.providers.WebsocketProvider : Web3.providers.HttpProvider)(this.url, { timeout: 60000 }));\n    this.amfeixM = () => (new this.web3.eth.Contract(amfeixCjson.abi, amfeixAddress, { from: this.from })).methods;\n  }\n\n  setFrom(address) { this.from = address; }\n\n  queueOp(method, params, onSuccess, onError) {\n    this.queuedOpCount++;\n    this.queuedOps.push(({ method, params, onSuccess, onError }));\n    //    if (this.queuedOps.length  >= this.batchSize) this.flushBatch(); \n  }\n\n  async execute(op) { try { return await amfx.amfeixM()[op.method](...oA(op.params)).call(); } catch (err) { return { err }; } }\n\n  async executeBatch() {\n    let batch = new MultiCallBatch();\n    for (let op of this.queuedOps.slice(0, this.batchSize)) batch.add(amfeixAddress, op.method, oA(op.params), op.onSuccess, op.onError);\n    this.queuedOps = this.queuedOps.slice(this.batchSize);\n    await batch.execute(this.url);\n  }\n\n  async actualFlushBatch() {\n    while (this.queuedOps.length > 0) {\n      //      L({length: this.inFlight.length, queued: this.queuedOps.length, mif: this.maxInFlight});\n      if (this.inFlight.length === this.maxInFlight) { await this.inFlight[0]; this.inFlight.shift(); }\n      if (this.inFlight.length > this.maxInFlight) L(`>> ${S({ length: this.inFlight.length, mif: this.maxInFlight })}`);\n      this.inFlight.push(this.executeBatch());\n      //      await Promise.all(this.inFlight);\n    }\n  }\n\n  async flushBatch() { await new Promise((resolve, reject) => { try { setTimeout(() => resolve(this.actualFlushBatch()), 0); } catch (err) { reject(err); } }); }\n}\n\nexport let amfx = new AmfeixContract();","import { A, D, I, K, L, S, U, V, oA, oF, isA } from '../common/tools';\nimport { tableStrucMap } from './data';\n\nlet computeKey = (table, data, keyPath) => (z => keyPath && keyPath.length === 1 ? z.join(\"\") : z)(data && ((keyPath || tableStrucMap[table].keyPath).map(k => data[k]))); \n\n//L({tables}); L({tableStrucMap});\nclass IndexedDB {\n  constructor(name) {\n    this.name = name;\n    this.indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n    this.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange;\n  }\n\n  async init() {\n    L(\"Initializing db.\");\n    this.db = await new Promise((resolve, reject) => A(this.indexedDB.open(this.name, 4), {\n      onerror: e => reject(`DB Error: ${e.target.error}`), onsuccess: e => { L(\"DB opened.\"); resolve(e.target.result); },\n      onupgradeneeded: e => (async () => { let db = e.target.result; L(\"Upgrading db.\");\n        for (let i = 0; i < db.objectStoreNames.length; ++i) await db.deleteObjectStore(db.objectStoreNames.item(i));\n        await Promise.all((V(tableStrucMap)).map((({ table, keyPath, indices, autoIncrement }) => new Promise((resolve, reject) => { // L({ table, keyPath, indices, autoIncrement });\n          let os = db.createObjectStore(table, ({ keyPath: keyPath || \"id\", autoIncrement: autoIncrement || !D(keyPath) }));\n          oA(indices).forEach(i => os.createIndex(i[0], i[1], { unique: i[2], multiEntry: true }));\n          os.transaction.oncomplete = () => { I(`Object store created: ${L(K(os))}`); resolve(os); };\n          os.transaction.onerror = () => reject(`Creating table '${table}' failed`);\n        })))); L(\"DB structure initialized.\");\n        resolve(db);\n      })()\n    })); \n  }\n \n  deleteDB(name) { return this.indexedDB.deleteDatabase(name); }\n\n  getTx(table, label, reject) { let tx = this.db.transaction(isA(table) ? table: [table], \"readwrite\"); \n    return A(tx, { onerror: () => (tx.error !== null) && reject(`Error on ${label} for ${table}: ${tx.error}`) }); \n  }\n  getOS(table, label, reject) { return this.getTx(table, label, reject).objectStore(table); }\n  act(table, label, input, getData, index) { return new Promise((resolve, reject) => { let os = this.getOS(table, label, reject);\n    I({index, input});\n    (index ? os.index((index)) : os)[label](input).onsuccess = e => resolve(getData(e)); \n  }); }\n  add(table, data) { return this.act(table, \"add\", data, () => data); }\n  put(table, data) { return this.act(table, \"put\", data, () => data); }\n  count(table, data) { return this.act(table, \"count\", data, e => e.target.result); }\n  getAll(table, data, index, keyPath) { return this.act(table, \"getAll\", (computeKey(table, data, keyPath)), e => e.target.result, index); }\n  openCursor(table, data, onCursor) { return this.act(table, \"openCursor\", data, e => (c => c && onCursor(c))((e.target.result))); }\n  iterateAll(table, data, onData) { return this.openCursor(table, data, c => { if (onData(c.value)) c.continue(); }); }\n  get(table, data, index, keyPath) { I( {computeKey: computeKey(table, data, keyPath)} ); return this.act(table, \"get\", computeKey(table, data, keyPath), e => e.target.result, index); }\n  write(table, data) { return this.get(table, data).catch(() => this.add(table, data)).then(() => this.put(table, data)); }\n  clear(table) { return this.act(table, \"clear\", U, I); }\n\n  newBuffer() { return new IDBuffer(this) }\n}\n\nclass IDBuffer {\n  constructor(idb) { A(this, { idb, pendingOps: [], tables: {}, batchSize: 1024 }); }\n\n  queueOp(table, action, data, onSuccess, onError) {\n    this.tables[table] = true;\n    this.pendingOps.push({ table, action, data, onSuccess, onError });\n    if (this.pendingOps.length > this.batchSize) {\n      this.activeFlush = (this.activeFlush || Promise.resolve()).then(async () => await this.flush());\n    }\n  }\n\n  pendingOpsCount() { return this.pendingOps.length; }\n\n  async flush() { \n    while (this.pendingOps.length > 0) await new Promise((resolve, reject) => {\n      let p = this.pendingOps; \n      this.pendingOps = [];\n      let tx = this.idb.getTx((K(this.tables)), \"flush\", err => { L('flusherr'); L({err}); reject(err); });\n      let result = { errors: 0, successes: 0 }, total = p.length;\n      p.forEach(x => {\n        let os = tx.objectStore(x.table);\n        let y = os[x.action](x.data);\n        y.onsuccess = e => { oF(x.onSuccess)(e.target.result); if (result.errors + ++result.successes === total) resolve(result); };\n        y.onerror = e => { L(`Error for ${S(x)}: ${S(e)}`); oF(x.onError)(e); if (++result.errors + result.successes === total) resolve(result); };\n      });\n    })\n  }\n\n  add(table, data) { this.queueOp(table, \"add\", data, () => data, err => { L(`Add error ${S(data)}`); L({err}) }); }\n  put(table, data) { this.queueOp(table, \"put\", data, () => data, err => { L('Put error '); L({err}) }); }\n  count(table, data) { this.queueOp(table, \"count\", data, e => e.target.result); }\n  getAll(table, data) { this.queueOp(table, \"getAll\", (data), e => e.target.result); }\n  get(table, data, onSuccess, onError) { this.queueOp(table, \"get\", computeKey(table, data), onSuccess, onError); }  \n  write(table, data) { this.get(table, data, d => { this.put(table, data); }, () => { this.add(table, data); }); }\n}\n\nexport { IndexedDB, IDBuffer };","import bip32 from 'bip32';\nimport bip38 from 'bip38';\nimport bip39 from 'bip39';\nimport bitcoin from 'bitcoinjs-lib';\nimport keccak256 from 'keccak256';\nimport secp256k1 from 'secp256k1';\nimport { D, F, G, T, oO } from './tools.mjs';\nimport buffer from 'buffer';\n\n//let g = {}; g.Buffer = Buffer || buffer.Buffer;\n\nlet defaultDerivationPaths = { bitcoin: \"m/44'/0'/0'\", ethereum: \"m/44'/60'/0'\" };\n//02f1b2a982dbe744305a37f9dfd69d7d7c6eeaa5c34c1aba3bd277567df5b972fb\nlet rootFromSeed = (seedWords) => bip32.fromSeed(bip39.mnemonicToSeedSync(seedWords.join(\" \")));\nlet deriveFromNode = (node, t, e) => node.derive(t || 0).derive(e || 0);\nlet coinNodesFromRoot = root => G(defaultDerivationPaths, v => root.derivePath(v));\n// eslint-disable-next-line\nlet xpubsFromCoinNodes = coinNodes => G(coinNodes, v => bip32.fromPublicKey(v.publicKey, v.chainCode));\nlet toBuffer = v => { var b = buffer.Buffer.alloc(v.length); for (var i = 0; i < b.length; ++i) b[i] = v[i]; return b; };\nlet getEthAddress = pubKey => keccak256(pubKey).toString('hex').slice(-40);\nlet ethAddressFromPubKey = pubKey => getEthAddress(toBuffer(secp256k1.publicKeyConvert(pubKey, false).slice(1)));\nlet btcAddressFromPubKey = (pubkey, network) => bitcoin.payments.p2pkh({ pubkey, network }).address;\nlet pubKeyBufferToPoint = pubKeyBuffer => bitcoin.ECPair.fromPublicKey(pubKeyBuffer).publicKey;\nlet privKeyBufferToPoint = privKeyBuffer => bitcoin.ECPair.fromPrivateKey(privKeyBuffer).privateKey;\nlet encryptKey = (key, password, onProgress) => bip38.encrypt(key, true, password, onProgress);\nlet encryptSeedWords = (seedWords, password, onProgress) => {\n  let root = rootFromSeed(seedWords);\n  return (F(T(\"privateKey chainCode\").map(k => [k, encryptKey(root[k], password, onProgress)])));\n};\nlet decryptWallet = (encryptedKeys, password, onProgress) => (G(encryptedKeys, v => bip38.decrypt(v, password, onProgress)));\nlet getAmfeixNode = root => (deriveFromNode(coinNodesFromRoot(root).bitcoin));\nlet getAmfeixPublicKey = root => getAmfeixNode(root).publicKey;\nlet getAmfeixPrivateKey = root => getAmfeixNode(root).privateKey;\n//let hexToUI8A = h => new Uint8Array(h.match(/.{1,2}/g).map(b => parseInt(b, 16))); \nlet hexOnly = s => (s.slice(0, 2) === \"0x\") ? s.slice(2) : s;\nlet pubKeyToEthAddress = (pubKeyHex, prefix) => (prefix ? \"0x\" : \"\") + ethAddressFromPubKey(pubKeyBufferToPoint(buffer.Buffer.from(hexOnly(pubKeyHex), 'hex')));\nlet pubKeyToBtcAddress = pubKeyHex => btcAddressFromPubKey(pubKeyBufferToPoint(buffer.Buffer.from(hexOnly(pubKeyHex), 'hex')));\nlet getWalletRoot = w => (bip32.fromPrivateKey(privKeyBufferToPoint(w.privateKey.privateKey), w.chainCode.privateKey));\nlet generateSeedWords = () => T(bip39.generateMnemonic());\n\nexport { generateSeedWords, pubKeyToEthAddress, pubKeyToBtcAddress, rootFromSeed, ethAddressFromPubKey, btcAddressFromPubKey, pubKeyBufferToPoint, encryptSeedWords, decryptWallet, getAmfeixPublicKey, getAmfeixPrivateKey, getWalletRoot };","import { SyncCache } from './syncCache.mjs';\nimport * as crypto from './crypto.mjs';\nimport { F, T } from './tools.mjs';\n\nlet pubKeyConvertors = { btc: crypto.pubKeyToBtcAddress, eth: crypto.pubKeyToEthAddress };\nlet pubKeySyncCaches = { btc: new SyncCache(), eth: new SyncCache() };\n\nlet pubKeyCachedConvertors = F(T(\"btc eth\").map(k => [k, pubKey => pubKeySyncCaches[k].getData(pubKey, () => pubKeyConvertors[k](pubKey))]));\nlet pubKeyToBtcAddress = pubKeyCachedConvertors.btc;\nlet pubKeyToEthAddress = pubKeyCachedConvertors.eth;\n\nexport { pubKeyToEthAddress, pubKeyToBtcAddress }\n","import { BN }  from './bignumber'; \n\nlet coin = BN(10).pow(18);\n\nlet satoshiToBTCString = s => s.div(coin).toString(); \nlet btcToString = s => s.toString(); \nlet satoshiToBTCFloat = s => parseFloat(satoshiToBTCString(s));\n\nexport { btcToString, satoshiToBTCString, satoshiToBTCFloat }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    // [::1] is the IPv6 localhost address.  127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname === 'localhost' || window.location.hostname === '[::1]' || window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => console.log('This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA'));\n      } else { registerValidSW(swUrl, config); } // Is not localhost. Just register service worker\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import AccountBalanceWalletOutlinedIcon from '@material-ui/icons/AccountBalanceWalletOutlined';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\n\nexport let captionIconMap = {\n  Bitcoin_Wallet: AccountBalanceWalletOutlinedIcon,\n  Impact_Fund: EqualizerIcon,\n  Settings: SettingsIcon,\n  Progress: HourglassEmptyIcon,\n  Unlock_wallet: LockOpenIcon,\n  Create_wallet: AddCircleOutlineIcon,\n  Log_in: VpnKeyIcon,\n  Admin: SupervisorAccountIcon\n};\n","import { G, singleKeyObject } from '../common/tools';\n\nlet formatDate = date => {\n  let make2Digit = s => (s.length === 1) ? '0' + s : s;\n  let fmt = { year: 'numeric', month: 'short', day: '2-digit', hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: false };\n  let d = G(fmt, (v, k) => new Intl.DateTimeFormat('en', { hour12: false, ...singleKeyObject(k, v) }).format(date));\n  return `${d.month} ${d.day}, ${d.year} ${make2Digit(d.hour)}:${make2Digit(d.minute)}:${make2Digit(d.second)}`;\n}, formatTimestamp = timestamp => timestamp && formatDate(new Date(1000 * timestamp));\n\nexport { formatTimestamp, formatDate }","import React from 'react';\n// eslint-disable-next-line\nimport { A, D, E, F, G, I, K, L, U, V, S, oA, oB, oF, oO, oS, isO, singleKeyObject } from '../common/tools';\n// eslint-disable-next-line\nimport { List, ListItem, ListItemText, ListItemIcon, Hidden, Drawer, Stepper, Step, StepLabel, CircularProgress, TextField, Dialog, Box, Button, RadioGroup, Radio, FormControl, FormControlLabel, Tab, Tabs, Paper, Table, Typography, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow, TableSortLabel, Checkbox, TableFooter } from '@material-ui/core';\n// eslint-disable-next-line\n//import { HistoryIcon, AttachMoneyIcon, CallMadeIcon } from '@material-ui/icons';\nimport { btcToString, satoshiToBTCString } from '../core/satoshi';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { captionIconMap } from './icons';\nimport { formatTimestamp } from './formatting'; \nimport { BN } from '../core/bignumber'\n\nlet captionMap = {\n  timestamp: \"Time\", value: \"Value\", txId: \"Transaction ID\", deposits: \"Deposits\", withdrawals: \"Withdrawals\", withdrawalRequests: \"Withdrawal Requests\", fundDepositAddresses: \"Fund deposit addresses\", feeAddresses: \"Fee addresses\", _: \"\"\n};\n//let displayFunctions = { timestamp: formatTimestamp };\n\nlet cleanText = s => oS(s).replace(/_/g, \" \").trim();\n\nclass Comp extends React.Component {\n  constructor(p, s, sors) { super(p); A(this, { state: {...s}, fers: {}, observers: [] }); this.initRefs(oS(sors)); }\n  render() { return this.ren(this.props, this.state); }\n  ren(p, s) { return <div/> }\n  initRefs(spacedOutRefString) { this.fers = F(spacedOutRefString.split(\" \").map(k => [k, React.createRef()])); }\n  updateChildRef(newV) { if (D(this.props.childRef)) this.props.childRef.current = newV; }\n  componentDidMount() { this.updateChildRef(this); }\n  componentWillUnmount() { this.updateChildRef(U); for (let o of this.observers) o.detach(); this.unmounted = true; }\n  setStateKV(k, v, onDone) { //L(`setStateKV(${k}, ${S(v)})`); \n  this.setState(singleKeyObject(k, v, onDone)) }\n  addSyncKeyObserver(data, key, context) { this.addSyncObserver(data, key, d => { if (!this.unmounted) this.setStateKV(key, d) }, context); }\n  addSyncObserver(data, key, onChange, context) { this.observers.push(data.syncCache.watch(key, onChange, context)); }\n}  \n\nclass Selector extends Comp { constructor(p) { super(p); A(this.state, { selectedIx: 0 }); oF(p.onChanged)(this.state.selectedIx) }\n  setSelectedIx(selectedIx) { if (this.state.selectedIx !== selectedIx) this.setState({ selectedIx }, () => oF(this.props.onChanged)(selectedIx)); }\n  ren(p, s) { return <FormControl component=\"fieldset\"><RadioGroup row={p.horizontal || U} aria-label=\"\" name=\"\" value={s.selectedIx} onChange={e => this.setSelectedIx(L(parseInt(e.target.value)))}>\n    {(oA(p.options).map((x, i) => <FormControlLabel key={i} value={i} label={x} control={<Radio />}/>))}</RadioGroup></FormControl> }\n}  \n\nfunction sort(a, comp) { return a.map((e, i) => [e, i]).sort((a, b) => (comp && comp(a[0], b[0])) || (a[1] - b[1])).map(e => e[0]); }\nlet styles = ({ visuallyHidden: { border: 0, clip: 'rect(0 0 0 0)', height: 1, margin: -1, overflow: 'hidden', padding: 0, position: 'absolute', top: 20, width: 1, }, });\nlet classes = styles;\nclass THead extends Comp {\n  ren(p, s) {\n    const { onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = p;\n    const createSortHandler = (property) => (event) => { onRequestSort(property, event); }; \n    return <TableHead><TableRow>\n      {p.checkable ? <TableCell padding=\"checkbox\"><Checkbox indeterminate={numSelected > 0 && numSelected < rowCount} checked={rowCount > 0 && numSelected === rowCount} onChange={onSelectAllClick} inputProps={{ 'aria-label': 'select all desserts' }} /></TableCell> : null}\n      {oA(p.headers).map((h, i) => { let sortDirection = ['asc', 'desc', false][orderBy === i ? order : 2];\n        return <TableCell key={i} align={h.alignCaption} padding={h.disablePadding ? 'none' : 'default'} sortDirection={sortDirection}>\n          <TableSortLabel active={orderBy === i} direction={sortDirection || 'asc'} onClick={createSortHandler(i)}>\n            {h.caption}{orderBy === i ? <span style={styles.visuallyHidden}>{order === 1 ? 'sorted descending' : 'sorted ascending'}</span> : null}\n          </TableSortLabel>\n        </TableCell>})}\n    </TableRow></TableHead>;\n  }\n}\n \nclass ListView extends Comp {\n  constructor(p) { super(p); this.state = { page: 0, rowsPerPage: 5, checked: {}, selectedIx: null, sortOrder: 0 }; } \n  ren(p, s) {\n    let headers = p.headers || K(oO(oA(p.data)[0])).map(h => ({ label: h, caption: h }));\n    let rows = oA(p.data).map((d, _id) => ({ _id, ...d }));\n    if (D(s.sortColumn)) rows = rows.sort((a, b) => { let h = headers[s.sortColumn];\n      let x = (h.compare || ((x, y) => (x === y ? 0 : (x < y ? -1 : 1))))(a[h.label], b[h.label]);\n      return [x, -x][s.sortOrder];\n    });\n    let elimObjects = (d, h) => { if (isO(d)) { L(`${h} is an object: ${S(K(d))}`); } else return d; };\n    let X = (d, f) => this.setState(d, () => { oF(p.onChange)(d); oF(f)(d); });\n    let isChecked = d => s.checked[d.index], isSelected = d => s.selectedIx === d._id;\n    let columnCount = headers.length + (p.checkable ? 1 : 0);\n    let prevRowsPerPage = s.rowsPerPage;\n    let offset = s.page * s.rowsPerPage, end = Math.min(rows.length, offset + s.rowsPerPage);//, emptyRows = offset + s.rowsPerPage - end;\n    let dense = true, onRequestSort = sortColumn => { this.setState({ sortColumn, sortOrder: this.state.sortOrder ^ ((this.state.sortColumn === sortColumn) ? 1 : 0) })}; \n    return <TableContainer component={Box}><p>{p.caption || null}</p><Table className={classes.table} aria-labelledby={p.title} size={(dense ? 'small' : 'medium')} aria-label={p.title}>\n        <THead headers={headers} classes={classes} checkable={p.checkable} numSelected={V(s.checked).filter(v => D(v)).length} order={s.sortOrder} orderBy={s.sortColumn} onSelectAllClick={() => { }} onRequestSort={onRequestSort} rowCount={rows.length} />\n        <TableBody>{sort(rows).slice(offset, (s.page + 1) * s.rowsPerPage).map((d, i) => <TableRow key={i} hover onClick={() => X({ selectedIx: d._id })} aria-checked={isChecked(d)} tabIndex={-1} selected={isSelected(d)}>\n          {p.checkable ? <TableCell padding=\"checkbox\"><Checkbox checked={isChecked(d)} inputProps={{ 'aria-labelledby': i }} /></TableCell> : null}\n          {headers.map((h, j) => <TableCell key={j} align={h.align || \"center\"}>{(h.displayFunc || I)(d[h.label], d)}</TableCell>)}\n        </TableRow>)}</TableBody>\n        <TableFooter><TableRow><TablePagination component={TableCell} colSpan={(columnCount - 1)} rowsPerPageOptions={[5, 10, 25, 50, 100, 250, 500, 1000]} count={rows.length} rowsPerPage={s.rowsPerPage} page={s.page} onChangePage={(e, page) => X({ page })} onChangeRowsPerPage={e => X({ rowsPerPage: parseInt(e.target.value, 10) }, d => X({ page: Math.min(Math.round(s.page*(prevRowsPerPage/d.rowsPerPage)), Math.floor((rows.length - 1)/d.rowsPerPage) )}))} /></TableRow></TableFooter>\n      </Table></TableContainer>   \n  }\n}\n \nclass Sidebar extends Comp {\n  ren(p, s) {  \n    return <List>{E(p.tabs).map(([title, control], i) => { let color = p.value === i ? \"secondary\" : \"primary\";\n      return <ListItem button onClick={() => oF(p.onChange)(U, i)} key={i}>{tabulize(0, [[\n        <ListItemIcon>{(C => D(C) ? <C color={color}/> : null)(captionIconMap[title])}</ListItemIcon>, \n        <Typography color={color}>{cleanText(title)}</Typography>\n      ]], [[{width: \"2em\"}, U]])}</ListItem>})}\n    </List>; \n  }\n}\n\nclass TabbedView extends Comp { constructor(p) { super(p, { selectedTabIx: 0 }); this.fers.visibleTab = {}; }\n  getVisibleTab() { return this.fers.visibleTab.current; }\n  ren(p, s) {let selTabIx = (D(p.selectedTabIx) ? p.selectedTabIx : s.selectedTabIx) || 0;\n    let TabsControl = D(p.tabsControl) ? p.tabsControl : U;\n    let horizontal = p.horizontal;\n    let tabsProps = { value: selTabIx, onChange: (e, selectedTabIx) => this.setState({ selectedTabIx }, oF(p.onChangeSelectedTabIx)(selectedTabIx)) };\n    let tabs = p.TabsControl ? p.TabsControl(tabsProps) : <Tabs indicatorColor=\"primary\" textColor=\"primary\" {...tabsProps} aria-label=\"tabs\" centered>{E(p.tabs).map(([title, control], i) => <Tab key={i} label={cleanText(title)} disabled={(oO(p.tabProps)[title])}/>)}</Tabs>;\n    //L(`TabbedView: pp: ${S(p.parentProps)}`)\n    let activeTab = K(p.tabs).length > 0 ? React.createElement(V(p.tabs)[selTabIx], ({...p.parentProps, childRef: this.fers.visibleTab})) : null;\n    return tabulize(0, horizontal ? [[tabs, activeTab]] : [[tabs], [activeTab]], horizontal ? [[{width: \"13em\", verticalAlign: \"top\"}, U]] : [[U], [U]]);\n  }\n}\n\nlet button = (caption, onClick, color) => <Button variant=\"contained\" color={[\"primary\", \"secondary\"][color || 0]} onClick={onClick}>{caption}</Button>\n\nclass TabTimeline extends Comp { constructor(p) { super(p, { selectedTabIx: 0 }); this.fers.tabbedView = React.createRef(); this.fers.visibleTab = {}; }\n  getTabbedView() { return this.fers.tabbedView.current; } \n  getVisibleTab() { return this.fers.visibleTab.current; }\n  ren(p, s) { let last = (i, o) => (i === (K(o).length - 1));\n    let f = o => G(o, (V, k, i) => () => tabulize(1/2, [[<Box><V {...p.parentProps} childRef={this.fers.visibleTab}/></Box>], [<Box>{tabulize(1/2, [[\n      p.onCancel && button(\"Cancel\", oF(p.onCancel)), \n      (i > 0) && button(\"Start over\", () => this.setState({ selectedTabIx: 0 })),\n      !last(i, o) && button(\"Next\", () => { let r = this.getVisibleTab().validate(); if (r) { \n        this.setState(L({ selectedTabIx: s.selectedTabIx + 1 }), () => (t => oF(t.setPrecedingResult).bind(t)(r))(this.getVisibleTab())); \n      }}),\n      last(i, o) && button(p.acceptText || \"Finish\", () => { let vt = this.getVisibleTab(); if (vt) { let r = vt.validate(); L(`>> r = ${S(r)}`); if (L(r)) oF((p.onAccept))(r); } })\n    ].filter(I)])}</Box>]]));\n    //L(`TabTimeLine:: ${S(p.parentProps)}`);\n    return <TabbedView onChangeSelectedTabIx={selectedTabIx => this.setState({selectedTabIx})} selectedTabIx={s.selectedTabIx} ref={this.fers.tabbedView} tabs={f(oO(p.tabs))} tabProps={G((p.tabs), (v, k, i) => (i !== (s.selectedTabIx)))} parentProps={p.parentProps}/>\n  }\n}\n\nclass TabTimelineNew extends Comp { constructor(p) { super(p, { selectedTabIx: 0 }); this.fers.visibleTab = {}; }\n  ren(p, s) { let C = V(p.tabs)[s.selectedTabIx];\n    return K(p.tabs).length === 1 ? <C childRef={this.fers.visibleTab} {...p.parentProps}/> :\n    <><Stepper activeStep={s.selectedTabIx} alternativeLabel>{K(oO(p.tabs)).map(label => (<Step key={label}><StepLabel>{label}</StepLabel></Step>))}</Stepper>\n    <C childRef={this.fers.visibleTab} {...p.parentProps}/>\n    </>\n  }\n}\n\nclass ValidatableComp extends Comp {\n  constructor(p, s, fers) { super(p, { values: {}, errors: {}, ...s }, fers);  }\n  setErrors(errors) { this.setState({ errors }, () => L(`New errors = ${S(this.state.errors)}`)); return (((K(errors).filter(I)).length) === 0); } \n  validate() { return true; }\n  genTextField(k, p) { let s = this.state; return <TextField error={(D(s.errors[k]))} variant=\"outlined\" ref={this.fers[k]} id={k} label={cleanText(k)} onChange={e => this.setState({ values: { ...s.values, ...singleKeyObject(k, e.target.value)}})} value={oS(s.values[k])} {...p} helperText={s.errors[k] || oO(p).helperText}/> }\n}\n\nlet tabulize = (borderSpacing, cells, cellStyles) => <table style={{borderSpacing: `${borderSpacing || 0}em`}}><tbody>{cells.map((r, i) => <tr key={i}>{r.map((c, j) => \n  <td key={j} style={cellStyles && oO(oA(oA(cellStyles)[i])[j])}>{c}</td>)}</tr>)}</tbody></table> \nlet formTable = cells => tabulize(1.5, cells)\nlet form = (preamble, cells) => <form noValidate autoComplete=\"off\">{preamble}{formTable(cells)}</form>\n\nclass DialogWrap extends Comp { //constructor(p, s) { super(p, {...s, open: false}); }\n//  show() { this.setState({ open: true }); }\n  ren(p, s) { \n    //L(`DialogWrap parentProps = ${S(p.parentProps)}`)\n    let C = p.comp; let id = cleanText(p.id);\n    return <Dialog aria-labelledby={id} open={p.open} onClose={() => { oF(p.onClose)(); this.setState({ open: false }); }}><h2>{id}</h2>\n      <C {...p.parentProps} onCancel={p.onCancel} onAccept={p.onAccept}/></Dialog> }\n} \n\nclass OpenDialogButton extends Comp { constructor(p, s) { super(p, { ...s, open: false }); }\n  ren(p, s) { return <>{button(cleanText(p.id), () => this.setState({ open: true }))}\n    <DialogWrap open={s.open} comp={p.comp} id={p.id} onAccept={d => { p.onAccept(d); this.setState({ open: false }); }} onCancel={() => { oF(p.onCancel)(); this.setState({ open: false }); }} parentProps={p.parentProps}/></> }\n}\n \nclass GetPasswordView extends ValidatableComp {\n  constructor(p, s) { super(p, s, \"Password\"); }\n  ren(p, s) { return formTable([[preamble(\"Please enter your password to confirm\", `Enter the password for wallet '${p.walletName}'`)], [<LockIcon fontSize={\"large\"}/>], \n    [this.genTextField(\"Password\", { type: \"password\" })]]) }\n  validate() { return this.state.values; }\n}\n\nclass GetPasswordDialog extends Comp { //constructor(p, s) { super(p, s, \"dlg\"); }\n  ren(p, s) { return <DialogWrap open={oB(p.open)} comp={() => <TabTimeline tabs={{GetPasswordView}} walletName={p.walletName} onAccept={p.onAccept} onCancel={p.onCancel} />}/> }\n}\n\nclass ProgressDialog extends Comp { ren(p, s) { let id = cleanText(p.title); \n  return <Dialog aria-labelledby={id} open={p.open} onClose={oF(p.onClose)}><h2>{cleanText(id)}</h2>{tabulize(3, [[<CircularProgress  value={p.progress} />]])}</Dialog> \n} }\n\nlet testModeComp = (testMode, C) => (testMode ? <div style={{borderStyle: \"dashed\", borderWidth: \"1px\", borderRadius: `0.333em`, borderColor: '#7A7'}}><C/></div> : null)\n\nlet wrapEllipsisDiv = v => <div style={{ textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\"}}>{v}</div>;\nlet newTabRef = (link, caption) => <a target=\"_blank\" rel=\"noopener noreferrer\" href={link}>{caption}</a>;\nlet aLink = (src, caption) => wrapEllipsisDiv(newTabRef(src, caption)); \nlet extractHeaders = d => F(K(oO(oA(d)[0])).map(h => [h, { label: h, caption: h }]));\nlet genHeaders = d => applyListHeaders(extractHeaders(d), commonTableHeaders);\n\nlet applyListHeaders = (h, mods)  => { E(mods).forEach(([k, v]) => A(oO(h[k]), v)); return h; };\n\nlet compareStrings = (a, b) => a.localeCompare(b);\nlet compareBNs = (a, b) => a.isLessThan(b); \nlet commonDataTypes = {\n  btcAddress: { caption: \"BTC address\", displayFunc: v => aLink(`https://www.blockchain.com/en/btc/address/${v}`, v), compare: compareStrings },\n  ethAddress: { caption: \"ETH address\", displayFunc: v => aLink(`https://etherscan.io/address/${v}`, v), compare: compareStrings },\n  btcTx: { caption: \"Bitcoin transaction\", displayFunc: v => aLink(`https://www.blockchain.com/en/btc/tx/${v}`, v), compare: compareStrings },\n  pubKey: { caption: \"Public key\", displayFunc: wrapEllipsisDiv, compare: compareStrings },\n  status: { caption: \"Status\", displayFunc: cleanText, compare: compareStrings },\n  btcSatoshis: { caption: \"Amount (BTC)\", align: \"right\", alignCaption: \"right\", displayFunc: x => satoshiToBTCString(x), compare: compareBNs },\n  btc: { caption: \"Amount (BTC)\", align: \"right\", alignCaption: \"right\", displayFunc: x => btcToString(x), compare: compareBNs }\n}\nlet commonTableHeaders = G({ txId: { type: \"btcTx\" }, btcAddress: { type: \"btcAddress\" }, ethAddress: { type: \"ethAddress\" }, pubKey: { type: \"pubKey\" }, satoshiBN: { type: \"btcSatoshis\" }, finalValue: { type: \"btcSatoshis\" }, value: { type: \"btcSatoshis\" }, status: { type: \"status\" }, \n  fundDepositAddress: { caption: \"Fund deposit address\", type: \"btcAddress\"}, \n  fromPubKey: { caption: \"From public key\", type: \"pubKey\" }, fromBtcAddress: { caption: \"From BTC address\", type: \"btcAddress\" },\n  derivedEthAddress: { caption: \"Derived ETH Address\", type: \"ethAddress\" }, \n  timestamp: { caption: \"Time\", align: \"left\", alignCaption: \"left\", displayFunc: formatTimestamp },\n}, v => ({...(D(v.type) ? commonDataTypes[v.type] : {}), ...v}));\n \nlet applyHeaders = h => applyListHeaders(h, {\n  //  txId: { caption: \"BTC Transaction\", displayFunc: displayBtcTransaction },\n    name: { caption: \"Wallet name\" },\n    privateKey: { caption: \"Encrypted Private Key\", displayFunc: wrapEllipsisDiv },\n    chainCode: { caption: \"Encrypted Chain Code\", displayFunc: wrapEllipsisDiv },\n    publicKey: { caption: \"Public Key\", displayFunc: wrapEllipsisDiv },\n    btcAddress: { caption: \"Bitcoin Wallet Address\", displayFunc: wrapEllipsisDiv },\n    ethAddress: { caption: \"Ethereum Investor address\", displayFunc: wrapEllipsisDiv },\n  //  value: { caption: \"Amount (BTC)\", align: \"right\", alignCaption: \"right\" }\n  });\n    \nlet preamble = (title, text, warning) => <><h2 style={{textAlign: \"left\"}}>{title}</h2><p style={{textAlign: \"left\"}}>{text}</p><p style={{textAlign: \"left\", color: \"#FF2170\"}}>{warning}</p></>;\nlet loadingComponent = (data, c) => D(data) ? c  : tabulize(5, [[<CircularProgress/>]]);\n\nlet dataSummary = (n, data) => (d => tabulize(1/3, [[`Number of pending ${n}s:`, d.length], [`Total ${n} value:`, satoshiToBTCString(d.reduce((p, c) => p.plus((c.satoshiBN)), BN(0)))],\n  [`Time of first ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.min(p, c.timestamp) : c.timestamp, U))],\n  [`Time of last ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.max(p, c.timestamp) : c.timestamp, U))]\n]))(oA(data))\n\nexport { dataSummary, testModeComp, GetPasswordDialog, preamble, loadingComponent, commonTableHeaders, applyListHeaders, extractHeaders, genHeaders, wrapEllipsisDiv, Sidebar, Comp, ValidatableComp, DialogWrap, ProgressDialog, ListView as List, TabbedView, Selector, captionMap, OpenDialogButton, cleanText, TabTimeline, button, tabulize, formTable, form, commonDataTypes }","import React from 'react';\n// eslint-disable-next-line\nimport { A, D, E, F, G, I, K, L, S, T, V, oA, oF, oO, singleKeyObject } from '../common/tools';\nimport { data, getInvestorWalletDataKey, getInvestorDataKey, stati } from '../core/data';\n// eslint-disable-next-line\nimport { dataSummary, tabulize, commonDataTypes, genHeaders, ValidatableComp, Comp, TabbedView, List, cleanText, button, TabTimeline } from './components'; \n\nclass DataDependentView extends Comp {\n  componentDidMount() { this.componentDidUpdate({}); }\n  componentDidUpdate(prevP) { if (prevP.investor !== this.props.investor) this.updateInvestor(this.props.investor); } \n} \nclass InvestorDependentView_Eth extends DataDependentView { \n  updateInvestor(investor) { if (investor) { this.addSyncKeyObserver(data, getInvestorDataKey(investor)); data.retrieveInvestorData(investor); } }\n  getInvestorData() { return oO(this.props.investor && this.state[getInvestorDataKey(this.props.investor)]); }\n} \n\nclass InvestorDependentView_Btc extends DataDependentView { \n  updateInvestor(investor) { if (investor) { this.addSyncKeyObserver(data, getInvestorWalletDataKey(investor)); data.retrieveInvestorWalletData(investor); } }\n  getInvestorWalletData() { return oO(this.props.investor && this.state[getInvestorWalletDataKey(this.props.investor)]); }\n} \n\nclass InvestorID extends Comp {\n  ren(p, s) { let i = oO(p.investor); return tabulize(1/7, [\n    ['Public key', i.pubKey || '?'], \n    ['Investor address (eth)', commonDataTypes.ethAddress.displayFunc(i.data) || '?'], \n    ['Wallet address (btc)', commonDataTypes.btcAddress.displayFunc(i.btcAddress) || '?']]) }\n}\n\nclass EthTxView extends InvestorDependentView_Eth { \n  ren(p, s) { let i = this.getInvestorData(); \n    let headers = F(T(\"Deposits Withdrawals Withdrawal_Requests\").map(k => [k, genHeaders(i[k])]));\n    headers = G(headers, v => V(v).filter(h => (p.EDeveloperMode.Developer) || T(\"status value txId pubKey timestamp\").includes(h.label)));\n    return <TabbedView style={{ display: D(p.investor) ? \"block\" : \"none\" }} caption={`Investor ${oO(p.investor).data}`} tabs={G(headers, (v, k) => () => \n    tabulize(1/2, [[dataSummary(k, i[k])], [<List data={i[k]} headers={v} />]]))} />;\n  }\n}\n\nclass InvestorList extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"investorsAddresses\"); }\n  ren(p, s) { \n    let h = genHeaders(s.investorsAddresses);\n    A(oO(h.data), { caption: \"Address\", displayFunc: commonDataTypes.btcAddress.displayFunc });\n    return <List caption={p.caption || \"Investors\"} data={s.investorsAddresses} headers={V(h)} onChange={d => oF(p.onChangedSelectedInvestor)(oA(s.investorsAddresses)[d.selectedIx])} />; \n  }\n}\n\nexport { InvestorList, InvestorID, EthTxView, InvestorDependentView_Eth, InvestorDependentView_Btc }","// eslint-disable-next-line\nimport { A, D, E, H, I, K, L, P, R, S, T, U, V, oA, oF, oO, oS, asA, singleKeyObject } from '../common/tools'; \nimport { decryptWallet, getWalletRoot, getAmfeixPublicKey, btcAddressFromPubKey, pubKeyBufferToPoint, ethAddressFromPubKey, encryptSeedWords, rootFromSeed, getAmfeixPrivateKey } from '../common/crypto';\nimport { Persistent } from './persistent'\n\nclass Wallet extends Persistent { \n  constructor() { super(\"wallet\", [\"accounts\"], { accounts: {} }); L('Creating Wallet class instance.'); }\n\n  async openWallet(creds, wallet) {// L(`openWallet: ${S(creds)} wallet: ${S(wallet)}`)\n    let w = await decryptWallet(P(wallet, T(\"privateKey chainCode\")), creds.Password); \n    let root = getWalletRoot(w);\n    let pub = getAmfeixPublicKey(root);\n    return ({ privateKey: w.privateKey, chainCode: w.chainCode, publicKey: pub.toString('hex'), btcAddress: btcAddressFromPubKey(pubKeyBufferToPoint(pub)), ethAddress: ethAddressFromPubKey(pub) }); \n  }\n\n  async add(creds, seedWords) { \n    let w = await encryptSeedWords(seedWords, creds.Password); \n    let d = await this.openWallet(creds, w); \n    let root = rootFromSeed(seedWords);\n    if (root.privateKey.toString('hex') !== d.privateKey.privateKey.toString('hex')) throw R(\"Encryption error (private key mismatch)\");\n    if (root.chainCode.toString('hex') !== d.chainCode.privateKey.toString('hex')) throw R(\"Encryption error (chainCode mismatch)\");\n    this.accounts[creds.Wallet] = { name: creds.Wallet, ...w, ...P(d, T(\"publicKey btcAddress ethAddress\")) };\n    this.persist(); \n    return this.lastLogin = this.accounts[creds.Wallet];\n  } \n\n  async getPrivateKey(creds) {\n    let d = await this.openWallet(creds, this.accounts[creds.Wallet]);\n    return getAmfeixPrivateKey(getWalletRoot(d)).toString('hex');\n  }\n\n  async open(creds) { \n    let d = await this.openWallet(creds, this.accounts[creds.Wallet]);\n    (A(this.accounts[creds.Wallet], { name: creds.Wallet, ...P(d, T(\"publicKey btcAddress ethAddress\")) }));\n    return this.lastLogin = this.accounts[creds.Wallet]; \n  }\n}\n\nlet wallet = new Wallet();\n\nexport { wallet }\n//nStMSFYWGfFL5QW","import React from 'react';\n// eslint-disable-next-line\nimport { A, D, E, F, G, I, K, L, S, T, U, V, oA, oO } from '../common/tools';\nimport { Transaction, data } from '../core/data';\n\n// eslint-disable-next-line\nimport { form, formTable, ProgressDialog, GetPasswordDialog, loadingComponent, applyListHeaders, commonTableHeaders, genHeaders, ValidatableComp, OpenDialogButton, Comp, TabbedView, List, tabulize, TabTimeline, preamble, button } from './components';\nimport { InvestorList, EthTxView } from './investor';\nimport { Typography } from '@material-ui/core';\nimport { BN }  from '../core/bignumber';\nimport { satoshiToBTCString } from '../core/satoshi';\nimport { formatTimestamp } from './formatting';\nimport { wallet } from '../core/wallet';\nimport { pubKeyToEthAddress } from \"../common/crypto\";\n\nclass Approve_actions_Form extends ValidatableComp { constructor(p, s, actionName, propertyLabel) { super(p, s); A(this, { actionName, propertyLabel });  }\n  validate() { return this.props[this.propertyLabel]; }\n  ren(p, s) { let d = oA(p[this.propertyLabel]), n = this.actionName;\n    return form(preamble(`Approve ${n}s`, `Click 'Confirm' to approve all pending ${n}s.`), [\n      [`Number of pending ${n}s:`, d.length],\n      [`Total ${n} value:`, satoshiToBTCString(d.reduce((p, c) => p.plus((c.satoshiBN)), BN(0)))],\n      [`Time of first ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.min(p, c.timestamp) : c.timestamp, U))],\n      [`Time of last ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.max(p, c.timestamp) : c.timestamp, U))]\n    ])\n  }\n}\n\nclass Approve_deposits_Form extends Approve_actions_Form { constructor(p, s) { super(p, s, \"deposit\", \"pendingDeposits\"); } }\nclass Approve_withdrawals_Form extends Approve_actions_Form { constructor(p, s) { super(p, s, \"withdrawal\", \"pendingWithdrawals\"); } }\n\nclass Approve_all_pending_deposits extends Comp { ren(p, s) { \n  return <TabTimeline tabs={{ Approve_deposits_Form }} acceptText=\"Confirm\" onAccept={p.onAccept} onCancel={p.onCancel} parentProps={{pendingDeposits: p.pendingDeposits}} />;\n} } \n\nclass Approve_all_pending_withdrawals extends Comp { ren(p, s) { \n  return <TabTimeline tabs={{ Approve_withdrawals_Form }} acceptText=\"Confirm\" onAccept={p.onAccept} onCancel={p.onCancel} parentProps={{pendingWithdrawals: p.pendingWithdrawals}} />;\n} }\n\nlet textField = (title) => ({ title });\nlet generateForm = (preambleText, aa) => {\n  return class extends ValidatableComp { constructor(p, s) { super(p, s, aa.flat().map(x => x.title).join(\" \")); }\n    ren(p, s) { return form(preamble(preambleText), aa.map(a => a.map(tf => this.genTextField(tf.title)))) }\n    validate() { return this.state.values; }\n  }\n}\n\nlet changeDataForms = {\n  Owner: generateForm(\"Please enter the new Owner\", [[textField(\"Owner\")]]),\n  AUM: generateForm(\"Please enter the new AUM\", [[textField(\"AUM\")]]),\n  BtcPrice: generateForm(\"Please enter the new BtcPrice\", [[textField(\"BtcPrice\")]]),\n  RequestGas: generateForm(\"Please enter the new AUM\", [[textField(\"RequestGas\")]]),\n  Daily_change: generateForm(\"Please enter the new Daily_change\", [[textField(\"Daily_change\")]]),\n  Fees: generateForm(\"Please enter the new Fees\", [T(\"fee1 fee2 fee3\").map(textField)]),\n  Fund_deposit_address: generateForm(\"Please enter the new Fund_deposit_address\", [[textField(\"Fund_deposit_address\")]]),\n  Fee_address: generateForm(\"Please enter the new Fee_address\", [[textField(\"Fee_address\")]])\n} \n\nlet wrapFormInTabTimeline = f => p => <TabTimeline tabs={{ \"0\": f }} onAccept={p.onAccept} onCancel={p.onCancel} />;\nlet adminSetters = G(changeDataForms, wrapFormInTabTimeline);\n\nclass Deposits extends Comp {\n  componentDidMount() { this.addSyncKeyObserver(data, \"fundDeposits\"); }\n  ren(p, s) { return loadingComponent(s.fundDeposits, <TabbedView tabs={F(E(s.fundDeposits).map(([k, v], i) => [`Deposit address #${i}`, () => <List data={v} headers={V(genHeaders(v))}/>]))}/>) }\n}\n\nclass Investors extends Comp { \n  ren(p, s) { return tabulize(1/3, [[<InvestorList onChangedSelectedInvestor={investor => this.setState({ investor })} EDeveloperMode={p.EDeveloperMode} />], \n    [D(s.investor) ? <EthTxView investor={s.investor} EDeveloperMode={p.EDeveloperMode} /> : tabulize(5/3, [[<Typography>{'Select an investor to show their transactions'}</Typography>]])]]) }\n}\n\nlet qEthTx = (method, params) => data.queuedEthTransactions.push(L(new Transaction(method, params))); \nclass Change_data extends Comp { \n  Owner(d) { qEthTx(\"transferOwnership\", [BN(d[\"Owner\"]).toString()]); }\n  AUM(d) { qEthTx(\"setAum\", [BN(d[\"AUM\"]).times(data.getFactor()).toString()]); }\n  BtcPrice(d) { qEthTx(\"setBtcPrice\", [BN(d[\"BtcPrice\"]).times(data.getFactor()).toString()]); }\n  RequestGas(d) { qEthTx(\"setRequestGas\", [BN(d[\"RequestGas\"]).toString()]); }\n  Daily_change(d) { qEthTx(\"setDataBlock\", [(BN(d[\"Daily_change\"]).times(data.getFactor())).toFixed().toString()]); }\n  Fees(d) { d = G(d, x => BN(x).toString()); qEthTx(\"setFee\", [d[\"fee1\"], d[\"fee2\"], d[\"fee3\"]]); }\n  Fund_deposit_address(d) { qEthTx(\"setfundDepositAddress\", [d[\"Fund_deposit_address\"]]) }\n  Fee_address(d) { qEthTx(\"setFeeAddress\", [d[\"Fee_address\"]]); }\n\n  ren(p, s) { return tabulize(5/3, V(G(adminSetters, (v, k) => [<OpenDialogButton id={k} comp={v} onAccept={d => this[k](d)} onCancel={I}/>]))) }\n}\n\nclass Pending_Deposits extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"pendingDeposits\"); }\n  approveAll(deps) { data.queuedEthTransactions.push(...deps.map(d => new Transaction(\"depositAdmin\", [pubKeyToEthAddress(d.pubKey, true), d.txId, d.pubKey, \"\"]))) }  \n  ren(p, s) { let pendingDeposits = oA(V(oO(s.pendingDeposits))[0]); //L(`Pending_Deposits: ${S(pendingDeposits)}`);\n    L(`admin wallet last login: ${S(oO(p.wallet).lastLogin)}`);\n    return loadingComponent(s.pendingDeposits, tabulize(5/3, [\n      [<OpenDialogButton id=\"Approve_all_pending_deposits\" parentProps={{ pendingDeposits }} comp={Approve_all_pending_deposits} onAccept={d => this.approveAll(d)}/>],\n      [<TabbedView tabs={F(E(s.pendingDeposits).map(([k, v], i) => [`Deposit address #${i}`, () => <List data={v} headers={V(genHeaders(v))}/>]))}/>]\n    ].filter(I))) \n  }\n}\n\nclass Withdrawal_Requests extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"withdrawalRequests\"); }\n  approveAll(withs) { data.queuedEthTransactions.push(...withs.map(d => new Transaction(\"returnInvestment\", [pubKeyToEthAddress(d.pubKey, true), d.txId, d.pubKey, \"\"]))) }\n  ren(p, s) {  let pendingWithdrawals = oA(s.withdrawalRequests);\n    return loadingComponent(s.withdrawalRequests, tabulize(5/3, [\n    [<OpenDialogButton id=\"Approve_all_pending_withdrawals\" parentProps={{ pendingWithdrawals }} comp={Approve_all_pending_withdrawals} onAccept={d => this.approveAll(d)} />],\n    [<List data={s.withdrawalRequests} headers={V((genHeaders(s.withdrawalRequests)))} />]\n  ])) }\n}\n\nclass Queued_Eth_Transactions extends Comp {\n  componentDidMount() { this.addSyncKeyObserver(data, \"queuedEthTransactions\"); }\n  signAndSubmit(creds) { L(`signAndSubmit : ${S(creds)}`);\n     this.setState({ progressDialogOpen: true, progressDialogTitle: \"Decrypting wallet...\" }, () => setTimeout(async () => await this.performApproveWithCreds(creds), 500))\n  }\n  async performApproveWithCreds(creds) { //L(`performApproveWithCreds : ${S(creds)}`)\n    let privateKey = await wallet.getPrivateKey(creds); \n    this.setState({ progressDialogOpen: true, progressDialogTitle: \"Signing transactions...\" }, () => setTimeout(async () => {\n      await data.signAndSubmitQueuedEthTransactions(privateKey); \n      data.queuedEthTransactions = data.queuedEthTransactions.map(x => ({ ...x, status: \"Submitted\" }))\n      this.setState({ progressDialogOpen: false, getPwdDialogOpen: false });\n    }, 500));\n  } \n  ren(p, s) { let Wallet = oO(oO(p.wallet).lastLogin).name;\n    return tabulize(5/3, [ \n      [<>{button(\"Sign and submit queued transactions\", () => this.setState({ getPwdDialogOpen: true }))}<ProgressDialog open={s.progressDialogOpen || false} title={s.progressDialogTitle} progress={U} />\n      <GetPasswordDialog open={s.getPwdDialogOpen} walletName={Wallet} onAccept={creds => this.signAndSubmit({ ...creds, Wallet })} onCancel={() => this.setState({ getPwdDialogOpen: false })}/></>],\n      [<List data={s.queuedEthTransactions} headers={V((genHeaders(s.queuedEthTransactions)))} />]\n    ]) \n  }\n}\n\nexport class Admin extends Comp {\n  ren(p, s) { //L(`admin wallet: ${S(p.wallet)}`);\n    return <TabbedView tabs={{ Investors, Withdrawal_Requests, Deposits, Pending_Deposits, Change_data, Queued_Eth_Transactions }} parentProps={{ wallet: p.wallet, EDeveloperMode: p.EDeveloperMode }}/>; }\n}\n","import React from 'react';\n// eslint-disable-next-line\nimport { Box, TextField } from '@material-ui/core';\n// eslint-disable-next-line\nimport { Comp, ValidatableComp, TabbedView, TabTimeline, button, formTable, form, preamble } from './components'; \n// eslint-disable-next-line\nimport { A, D, E, F, H, I, K, L, S, U, V, oA, oF, oO, oS, asA, singleKeyObject } from '../common/tools'; \nimport * as bip39 from 'bip39';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { generateSeedWords } from \"../common/crypto\";\n\n//let defaultWords = 'gorilla endorse hat lumber old price route put goose sail lemon raise'.split(\" \");\n\nclass SeedView extends ValidatableComp {\n  constructor(p, s) { super(p, s);  \n    this.setNewInitialWords();\n    this.initRefs(K(this.state).join(\" \"));\n    this.constructed = true;\n  }\n  setNewInitialWords() {  \n     let values = {};\n     for (let q = 0; q < 12; ++q) values[this.getKey(q)] = oS(oA(this.props.initialWords)[q]);  \n     if (this.constructed) { this.setState({ values }); } else { this.state.values = values; }\n  }\n  checkWordsInList(wordList) { //L(`checkWordsInList: ${wordList}`);\n    return this.setErrors(F(this.getWords().map((w, i) => (!(wordList.includes(w))) ? `Word '${w}' is not an accepted word.` : U).filter(I).map((r, i) => [this.getKey(i), (r)])));  \n  }\n  checkWordsEqual(expectedWords) { let gotWords = this.getWords();  \n    return this.setErrors(F(gotWords.map((w, i) =>  (!(w === expectedWords[i])) ? `This word is not correct.` : U).filter(I).map((r, i) => [this.getKey(i), r])));  \n  }\n  componentDidUpdate(prevP) { if (prevP.initialWords !== this.props.initialWords) this.setNewInitialWords(); }\n  getKey(x) { return `Word_${x}`}\n  getWords() { let result = []; for (let q = 0; q < 12; ++q) result.push(this.state.values[this.getKey(q)]);  return result; }\n  ren(p, s) { return formTable([0, 1, 2].map(a => [0, 1, 2, 3].map(b => this.genTextField(this.getKey(4*a + b), { disabled: p.disabled })))) }\n}\n\nclass Setup_password extends ValidatableComp { constructor(p, s) { super(p, s, \"Wallet Password Confirm_password\"); }\n  ren(p, s) { return form(preamble(\"Setup password\", \"Your wallet will be password protected and encrypted. Please, choose a strong password.\"), \n    [[this.genTextField(\"Wallet\")], [this.genTextField(\"Password\", { type: \"password\" })], [this.genTextField(\"Confirm_password\", { type: \"password\" } )]]) }\n  validate() { let e = {};\n    if (this.state.values.Password !== this.state.values.Confirm_password) { e[\"Password\"] = \"Passwords don't match\"; e[\"Confirm_password\"] = \"Passwords don't match\"; } \n    if (oS(this.state.values.Password).length < 8) e[\"Password\"] = \"Please use at least 8 characters\";\n    if (oS(this.state.values.Wallet).length < 1) e[\"Wallet\"] = \"Please choose a name for your wallet\";\n    return ((this.setErrors(e)) && (this.state.values));\n  }\n}\n\nclass Enter_credentials extends ValidatableComp { constructor(p, s) { super(p, s, \"Wallet Password\"); }\n  ren(p, s) { return formTable([[preamble(\"Unlock your wallet\", \"Select a wallet, type the password and unlock it.\")], [<LockIcon fontSize={\"large\"}/>], \n    [this.genTextField(\"Wallet\")], [this.genTextField(\"Password\", { type: \"password\" })]]) }\n  validate() { let e = {};\n    if (oS(this.state.values.Password).length < 1) e[\"Password\"] = \"Please enter your password\";\n    if (oS(this.state.values.Wallet).length < 1) e[\"Wallet\"] = \"Please choose a wallet\";\n    return this.setErrors(e) && { creds: this.state.values };\n  }\n}\n\nclass Backup_seed extends ValidatableComp { constructor(p, s) { super(p, s, \"seedView\"); }\n  validate() { return { creds: this.state.creds, words: this.state.words }; }\n  componentDidMount() { super.componentDidMount(); this.setState({ words: generateSeedWords() }) }\n  setPrecedingResult(creds) { this.setState({ creds }) }\n  ren(p, s) {\n    return <form noValidate autoComplete=\"off\">\n      {preamble(\"Backup seed\", \"Please write these 12 words down, in order, and keep them somewhere safe offline. With them you will be able to recover your wallet.\", \"Never give your seed keys to anyone, we will never ask you to share them with us.\")}\n      <SeedView ref={this.fers.seedView} initialWords={s.words} disabled={true} /></form>;\n  }\n}\n\nclass Verify_seed extends ValidatableComp { constructor(p, s) { super(p, s, \"seedView\"); }\n  setPrecedingResult(input) { this.setState({ ...input }) }\n  validate() { let sv = this.fers.seedView.current; return sv.checkWordsEqual(oA(this.state.words)) && { creds: this.state.creds, seedWords: this.state.words }; }\n  ren(p, s) {\n    return <form noValidate autoComplete=\"off\">{preamble(\"Verify seed\", \"Your seed is very important! If your lose your seed your funds will be permantently lost.\")}\n      <SeedView ref={this.fers.seedView}/></form>;\n  }\n}\n\nclass Input_seed extends ValidatableComp { constructor(p, s) { super(p, s, \"seedView\"); }\n  setPrecedingResult(creds) { this.setState({ creds }) }\n  validate() { let sv = this.fers.seedView.current; return sv.checkWordsInList(bip39.wordlists.english) && { creds: this.state.creds, seedWords: sv.getWords() }; } \n  ren(p, s) { return <form noValidate autoComplete=\"off\">{preamble('Input seed', 'Restore your wallet from your previously backed up seed.', 'Never give your seed keys to anyone, we will never ask you to share them with us.')}\n    <SeedView ref={this.fers.seedView}/></form>;\n  }\n} \n\nclass Unlock_wallet extends Comp { ren(p, s) { return <TabTimeline tabs={{ Enter_credentials }} onAccept={p.onAccept} onCancel={p.onCancel} acceptText=\"Unlock\"/>; } }\nclass Create_wallet extends Comp { ren(p, s) { return <TabTimeline tabs={{ Setup_password, Backup_seed, Verify_seed }} onAccept={p.onAccept} onCancel={p.onCancel}/>; } }\nclass Seed_Login extends Comp { ren(p, s) { return <TabTimeline tabs={{ Setup_password, Input_seed }} onAccept={p.onAccept} onCancel={p.onCancel}/>; } }\n\nexport class Log_in extends Comp { \n  ren(p, s) { return <TabbedView tabs={{ Unlock_wallet, Create_wallet, Seed_Login }} parentProps={{ onAccept: p.onAccept, onCancel: p.onCancel }}/>; } \n}","import React from 'react';\nimport { A, S, V, oA, oO } from '../common/tools';\nimport { amfeixAddressLists, btcRpcUrl, btcFields, data, ethBasicFields } from '../core/data';\n// eslint-disable-next-line\nimport { button, genHeaders, commonDataTypes, Selector, Comp, TabbedView, List, captionMap, tabulize } from './components';\n//import { genHeaders } from './investor';\n\nclass Bitcoin_P2P_Network extends Comp {\n  componentDidMount() { btcFields.forEach(f => this.addSyncKeyObserver(data, f)); }\n  ren(p, s) { return tabulize(1/3, [\n    [tabulize(1/3, [[\"RPC url\", btcRpcUrl]])], \n    [<List data={(btcFields.map(name => ({ name, value: S(oO(s[name]).result) })))} />], \n    [button(\"Refresh\", data.updateConstants['btc'])]\n  ]); }\n} \n\nclass Ethereum_P2P_Network extends Comp {\n  componentDidMount() { amfeixAddressLists.concat(ethBasicFields).concat([\"ethRPCUrl\"]).forEach(f => this.addSyncKeyObserver(data, f)); }\n  ren(p, s) {\n    return tabulize(2/3, [\n      [tabulize(1/3, [[\"RPC url\", s.ethRPCUrl]])],\n      [<List data={ethBasicFields.map(name => ({ name, value: S(oO(s[name])) }))} />],\n      [button(\"Refresh\", data.updateConstants['eth'])],\n      [tabulize(1/3, [amfeixAddressLists.map(k => {\n        let h = genHeaders(s[k]);\n        A(oO(h.data), { caption: \"Address\", displayFunc: commonDataTypes.btcAddress.displayFunc });\n        return tabulize(1/3, [[<List caption={captionMap[k]} data={(oA(s[k]))} headers={V(h)} />], [button(\"Refresh\", () => data.updateFixedLengthArray(k))]]);\n      })])]\n    ]);\n  }\n}\n\nexport class Network extends Comp { ren(p, s) { return <TabbedView tabs={({ Bitcoin_P2P_Network, Ethereum_P2P_Network })} />; } }\n","import React from 'react';\n// eslint-disable-next-line\nimport { D, E, L, S, U, oO } from '../common/tools';\nimport { data } from '../core/data';\nimport { tabulize, Comp, List } from './components'; \nimport { LinearProgress } from '@material-ui/core' \n\nexport class Progress extends Comp {\n  componentDidMount() {\n//    L(\"componentDidMount: LoadProgressView\");\n    let displayDelay = 500, lastUpdate = (Date.now() - displayDelay);\n    this.addSyncObserver(data, \"loadProgress\", newProgress => {\n      let loadProgress = newProgress;\n      let currentTime = Date.now(), deltaS = (currentTime - lastUpdate), update = () => { //L({currentTime});\n        this.updateTimeout = false;\n        displayDelay = Math.min(4000, 1.17 * displayDelay);\n        lastUpdate = currentTime; \n        return !this.unmounted && this.setState({ loadProgress: { ...loadProgress } });\n      };\n//      L({deltaS, displayDelay});\n      if ((deltaS >= displayDelay)) { update(); } else if (!(this.updateTimeout)) { this.updateTimeout = setTimeout(update, displayDelay - deltaS); }\n    });\n  } \n\n  ren(p, s) { return tabulize(1/2, [\n    [tabulize(1/2, E((oO(oO(s.loadProgress).progress))).map(([key, data]) => [key, \n    D(data.index) ? tabulize(1/7, [[`${data.index} / ${D(data.length) ? data.length : '?'}` + (D(data.length) ? ` (${Math.round(100*(data.index/data.length))}%)` : '')], \n         [<LinearProgress variant={D(data.length) ? \"determinate\" : U} value={D(data.length) ? ((100*data.index)/data.length) : U} />]])\n    : `${S(data)} ms`\n  ]))],\n  [<List data={E((oO(oO(s.loadProgress).timings))).map(([key, data]) => ({ key, timing: `${S(data)} ms` }))} />]\n  ]); }\n}\n","import { D } from '../common/tools';\n\nexport let darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\nexport let getMainLightness = (fg, dm) => ((D(dm) ? dm : darkMode) ^ fg) ? 0 : 1;\nexport let getMainColor = (fg, dm) => [\"#000\", \"#FFF\"][getMainLightness(fg, dm)];\nexport let basePallette = dark => ({ color: getMainColor(true, dark), backgroundColor: getMainColor(false, dark) });\nexport let seriesColors = (i, dark) => (`#FF2170`);\n","// eslint-disable-next-line\nimport React from 'react'; //import ReactDOM from 'react-dom';\nimport Highcharts from 'highcharts/highstock'; import HighchartsReact from 'highcharts-react-official';\n// eslint-disable-next-line\nimport { basePallette, getMainLightness, seriesColors, getMainColor, darkMode } from './colors';\nimport { ethBasicFields, data } from '../core/data';\n// eslint-disable-next-line\nimport { ProgressDialog, OpenDialogButton, DialogWrap, Selector, ValidatableComp, Comp, TabbedView, button, tabulize, formTable } from './components'; \n// eslint-disable-next-line\nimport { AppBar, Toolbar, Button, Box, TextField, Paper } from '@material-ui/core';\n// eslint-disable-next-line\nimport { A, D, H, I, L, S, T, U, oA, oF, oS, asA } from '../common/tools'; \n// eslint-disable-next-line\nimport { InvestorID, InvestorList, EthTxView, InvestorDependentView_Eth } from './investor';\n// eslint-disable-next-line\nimport { satoshiToBTCFloat } from '../core/satoshi';\n\nlet chart = (title, valueSuffix, datas, dark) => <HighchartsReact constructorType={\"stockChart\"} highcharts={Highcharts} options={{ \n  rangeSelector: {selected: 1}, title: { text: title }, navigator: {enabled: true}, credits: {enabled: false}, \n  chart: { zoomType: \"x\", ...basePallette(dark), events: { load: function() { let n = Date.now(); this.xAxis[0].setExtremes((n - 30*24*60*60*1000), n); this.showResetZoom(); } } }, \n  plotOptions: { areaspline: { fillColor: `hsla(240, 75%, ${100*getMainLightness(true, dark)}%, 20%)` } }, \n  yAxis: [{ labels: { formatter: function () { return this.axis.defaultLabelFormatter.call(this) + valueSuffix; } } }],  \n  xAxis: { events: { aferSetExtremes: function(e) {  } }}, \n  series: datas.map((series, i) => ({ name: series.name, type: \"areaspline\", tooltip: { valueSuffix }, color: seriesColors(i, dark), data: series.data || [] })) \n}}/>;\n\nlet timeDataTrafo = (name, data) => ({ name, data })//: oA(data).map(([t, d]) => [t, d]) })\n\nclass FundIndexChart extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"timeData\"); }\n  ren(p, s) { return <Box>{chart('Fund Index', \" %\", [timeDataTrafo(\"ROI\", s.timeData)], p.dark)}</Box> }\n}\n\nexport class Impact_Fund extends InvestorDependentView_Eth {\n  componentDidMount() { super.componentDidMount(); ethBasicFields.concat(T(\"roi dailyChange timeData\")).map(k => this.addSyncKeyObserver(data, k)); } \n\n  ren(p, s) { let changePerc = v => D(v) ? `${v >= 0 ? \"+\" : \"-\"}${v}%` : ''; //L(`Fundview inv = ${S(p.investor)}`);\n    let iData = this.getInvestorData(); \n    let displayTrafo = { dailyChange: changePerc, aum: v => `${parseInt(v)/Math.pow(10, s.decimals)} BTC` }\n    let parfs = p => p.map((e, i) => <p key={i}>{e}</p>);\n    return tabulize(1/3, [p.urlParams.testMode ? [<InvestorID investor={p.investor}/>] : U,\n      [tabulize(1/3, [[tabulize(1/3, [[parfs([D(iData.investmentValue) && `${iData.investmentValue} BTC`, `Investment Value`])], [parfs([changePerc(s.roi), `ROI`])]]), <FundIndexChart dark={p.dark}/>]])],\n      [tabulize(1/3, [T(\"dailyChange aum btcPrice\").map((v, i) => `${v}: ${(displayTrafo[v] || I)(s[v])}`)])],\n      [iData.valueSeries && chart('Investment Performance', \" BTC\", [timeDataTrafo(\"Value\", oF(iData.valueSeries)())], p.dark)],\n      [<EthTxView investor={p.investor} EDeveloperMode={p.EDeveloperMode}/>]\n    ].filter(D)) \n  }\n}\n","import React from 'react';\n// eslint-disable-next-line\nimport { Box, TextField } from '@material-ui/core';\n// eslint-disable-next-line\nimport { dataSummary, testModeComp, wrapEllipsisDiv, applyListHeaders, loadingComponent, OpenDialogButton, DialogWrap, Comp, ValidatableComp, tabulize, form, formTable, TabbedView, TabTimeline, button, List, genHeaders  } from './components'; \n// eslint-disable-next-line\nimport { A, D, E, F, H, I, K, L, P, S, T, U, V, oA, oF, oO, oS, asA, singleKeyObject } from '../common/tools'; \nimport { InvestorDependentView_Btc, InvestorID, EthTxView } from './investor'\n// eslint-disable-next-line\nimport QRCode from 'qrcode-svg';\nimport { pubKeyToBtcAddress } from '../common/pubKeyConvertor';\n// wc52mNR2qTpFfNP\n// eslint-disable-next-line\nclass _Withdraw_ extends Comp { ren(p, s) { return <TabTimeline tabs={{ Withdraw, Review, Done }} onCancel={p.onCancel} onAccept={p.onAccept}/>; } }\n\nclass Account extends Comp { constructor(p, s) { super(p, s, \"dlgWithdraw\"); }\n  ren(p, s) { I(`account: ${S(p.wallets)}`); let headers = V(applyListHeaders(F(T(\"name privateKey chainCode publicKey btcAddress ethAddress\").map(k => [k, ({ label: k, caption: k })]))));\n  return formTable([[<List data={(E(oO(oO(p.wallet).accounts)).map(([name, wallet]) => ({ name, ...wallet})))} headers={headers}/>], \n  //  [<OpenDialogButton id=\"Withdraw\" comp={WithdrawDialog} onAccept={I} onCancel={I}/>]\n  ])}\n}\n\nlet investorCompIfTestMode = (p) => testModeComp(p.urlParams.testMode, () => <InvestorID investor={p.investor} />)\n\nlet txTypes = T(\"Deposits Investments Returns Withdrawals\");\nlet simpleList = data => <List data={data} headers={V(genHeaders(data))}/>; \nclass History extends InvestorDependentView_Btc { \n  ren(p, s) { let walletData = this.getInvestorWalletData(), allLoaded = txTypes.reduce((p, c) => p && D(walletData[c]), true); //L(`p.wallet = ${S(p.wallet)}`)\n    let All_transactions = () => loadingComponent(allLoaded, simpleList(L(txTypes).map(type => oA(walletData[type]).map(d => ({...d, type: type.slice(0, type.length - 1) }))).flat()));\n    return <TabbedView parentProps={{ walletData, wallet: oO(p.wallet).lastLogin }} \n      tabs={{ All_transactions, ...F(txTypes.map(l => [l, () => (d => loadingComponent(d, tabulize(1/2, [[dataSummary(l, d)], [simpleList(oA(d))]])))(walletData[l])])) }} />; \n  } \n}\n\nclass Invest extends ValidatableComp { ren(p, s) { L(`investor = ${S(p.investor)}`); let btcAddress = oS(oO(p.investor).btcAddress); let dim = 256;\n  let qrCode = btcAddress.length > 0 ? (new QRCode({ content: btcAddress, ecl: \"H\", width: dim, height: dim, join: true, container: \"svg-viewbox\", xmlDeclaration: false })).svg() : U;\n  return tabulize(1/3, [[qrCode ? <div style={{width: \"30em\", height: \"30em\"}} dangerouslySetInnerHTML={{ __html: qrCode }} /> : null], [this.genTextField(\"Bitcoin personal Investment address\", { value: btcAddress, disabled: true })]]); \n} } \n\nclass Done extends ValidatableComp { ren(p, s) { return <Box/>; } }\nclass Review extends ValidatableComp { ren(p, s) { return <Box/>; } }\nclass Withdraw extends ValidatableComp { ren(p, s) { return form(null, [[this.genTextField(\"To\", \"The address of the recipient\")], [this.genTextField(\"Amount\", \"Amount to be sent\")], [this.genTextField(\"Fees\")]]); } }\n\nexport class Bitcoin_Wallet extends Comp { ren(p, s) { let investor = p.investor || oO(oO(p.wallet).lastLogin);\n  if (!D(investor.btcAddress) && D(investor.pubKey)) investor.btcAddress = pubKeyToBtcAddress(investor.pubKey);\n  return <>{investorCompIfTestMode(p)}{tabulize(1/3, [\n    [<TabbedView tabs={{ History, Invest, _Withdraw_ }} parentProps={{investor, ...(P(p, T(\"urlParams wallet\")))}} />],\n  [<EthTxView investor={p.investor} EDeveloperMode={p.EDeveloperMode}/>]\n])}</>\n} }\n","import { V, makeEnum, singleKeyObject } from '../common/tools'\n\nlet EUserMode = makeEnum(\"Admin User\");\nlet EDeveloperMode = makeEnum(\"Production Developer\");\nlet EPallette = makeEnum(\"Default Dark Light\");\n\nlet enumDefault = x => V(x)[0];\nlet enumDefObj = x => singleKeyObject(enumDefault(x), true);\n\nexport { EPallette, EUserMode, EDeveloperMode, enumDefault, enumDefObj }","import React from 'react'; import ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n// eslint-disable-next-line\nimport { A, D, E, F, G, H, I, K, L, P, S, T, U, V, oA, oO, oS, asA, makeEnum, singleKeyObject } from './common/tools';  \n// eslint-disable-next-line\nimport { FormControlLabel, Switch, List, ListItem, ListItemText, ListItemIcon, AppBar, Toolbar, Typography, Button, Box, TextField, Paper, Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core';\nimport { createMuiTheme, ThemeProvider}  from '@material-ui/core/styles';\n// eslint-disable-next-line\nimport { Sidebar, ProgressDialog, OpenDialogButton, DialogWrap, cleanText, Selector, ValidatableComp, Comp, TabbedView, button, tabulize, formTable } from './ui/components'; \nimport { Admin } from './ui/admin';\nimport { Log_in } from './ui/login';\nimport { Network } from './ui/network';\nimport { Progress } from './ui/loadProgressView'\nimport { Impact_Fund } from './ui/impactFund';\nimport { Bitcoin_Wallet } from './ui/wallet'; \n// eslint-disable-next-line\nimport { InvestorID, InvestorList, EthTxView, InvestorDependentView } from './ui/investor';\n//import ImpactFundIcon from './assets/impactFund.svg'\nimport { wallet } from './core/wallet';\nimport { pubKeyToEthAddress, pubKeyToBtcAddress } from \"./common/pubKeyConvertor\";\n// eslint-disable-next-line\nimport { basePallette, getMainLightness, seriesColors, getMainColor, darkMode } from './ui/colors';\nimport { version } from './version.js'; \nimport { data, ethInterfaceUrls } from './core/data'; \n// eslint-disable-next-line\nimport { EPallette, EUserMode, EDeveloperMode, enumDefault, enumDefObj } from './core/enums';  \n\nlet url = new URL(window.location.href);\nlet getUrlParam = k => (v => v === null ? U : v)(url.searchParams.get(k));\nlet urlParams = F(T(\"asEthAddress asPublicKey asBtcAddress\").map(k => [k, getUrlParam(k)]));\nurlParams.testMode = D(L(getUrlParam(\"8e763620037a1054b3656092dece8d324eef5dd5efd4e4d5c1bbc125c9c74996\")));\n\nclass Settings extends Comp {\n  ethInterfaceChanged(v) { data.setEthRPCUrl(ethInterfaceUrls[v]) }\n  ren(p, s) { \n    return tabulize(1/3, [\n      [<Selector options={ethInterfaceUrls} onChanged={v => this.ethInterfaceChanged(v)}/>],\n      [button(\"Compute data\", () => { data.computeData(); })],\n    ]) \n  }\n}\n\nclass Cache extends Comp {\n  ethInterfaceChanged(v) { data.setEthRPCUrl(ethInterfaceUrls[v]) }\n  ren(p, s) { \n    return tabulize(1/3, [\n      [button(\"Clear data cache\", async () => { await data.clearCache() })],\n      [button(\"Clear bitcoin transaction cache\", async () => { await data.clearTransactionCache('btc'); })],  \n      [button(\"Clear ethereum registered transaction cache\", async () => { await data.clearTransactionCache('eth'); })]\n    ]) \n  }\n}\n \n// wc52mNR2qTpFfNP \nclass MainView extends Comp { //constructor(p, s) { super(p, s);} \n  startWalletOp(walletOperation, f) { this.setState({ walletOperation, progressDialogOpen: true }, () => setTimeout(async () => { await f(); this.setState({ progressDialogOpen: false }) }, 500));  }\n  acceptLogIn(d) { \n    if (d.seedWords) { this.startWalletOp(\"Encrypting\", () => wallet.add(d.creds, d.seedWords, status => { this.setState({ walletCodecProgress: L(status.percent) }); })); }\n    else { this.startWalletOp(\"Decrypting\", () => wallet.open(d.creds, status => this.setState({ walletCodecProgress: status.percent }))); }\n    return true;\n  }\n  ren(p, s) { let tabs = A({ Progress, Bitcoin_Wallet, Impact_Fund }, p.EUserMode.Admin ? ({ Admin, Network, Settings, Cache }) : ({}));\n//    {p.EUserMode.Admin ? <OpenDialogButton id=\"Log_in\" comp={Log_in} onAccept={d => this.acceptLogIn(d)}/> : null}\n    return <><AppBar position=\"static\"><Toolbar><p>{`Version >= ${version}`}</p><OpenDialogButton id=\"Log_in\" comp={Log_in} onAccept={d => this.acceptLogIn(d)}/>\n      {D(oO(p.wallet).lastLogin) ? button(\"Log out\", () =>  ({ })) : null}\n      {D(oO(p.wallet).lastLogin) ? `You are logged in to wallet '${p.wallet.lastLogin.name}'` : 'You are not logged in'}\n    </Toolbar></AppBar> \n    <TabbedView tabs={tabs} parentProps={{...P(p, T(\"EDeveloperMode investor dark urlParams wallet\")) }} TabsControl={props => <div>{tabulize(0, [[<Paper><img style={{width: \"100%\", height: \"100%\"}} src=\"amfeix.png\"/></Paper>], [<hr/>], [<Sidebar tabs={tabs} {...props}/>]])}</div>} horizontal={true}/> \n    <ProgressDialog open={s.progressDialogOpen || false} title={`${s.walletOperation} wallet...`} progress={s.walletCodecProgress} /></> \n} }\n\nlet investor;\nif (urlParams.asEthAddress) investor = { data: urlParams.asEthAddress };\nif (urlParams.asPublicKey) investor = { data: L(\"0x\" + pubKeyToEthAddress(urlParams.asPublicKey)), pubKey: urlParams.asPublicKey, btcAddress: L(pubKeyToBtcAddress(urlParams.asPublicKey)) }\n\nL(`Initializing with investor ${S(investor)}`);\n\nif (D(investor)) data.runWhenDBInitialized(() => data.registerInvestorAddress(investor.data)); \n\n//let g = \"024fbc46924b16f5ec5cc562ac0097094b6269f746bd0a5ce1dc9654a604abbedc\"; L(`g: eth = ${pubKeyToEthAddress(g)} btc = ${pubKeyToBtcAddress(g)}`)\n//wsqC3ZB9Ue2pAJ6\nclass App extends Comp { constructor(p) { super(p, { wallet, investor, ...G({EDeveloperMode, EUserMode, EPallette}, enumDefObj)}); this.state.theme = this.createTheme(); } \n  isDark() { let s = this.state; return !D(s.EPallette) || s.EPallette.Default ? darkMode : D(s.EPallette.Dark) }\n  createTheme() { let s = this.state; let dark = this.isDark();\n    A(document.body.style, { color: getMainColor(true, dark), backgroundColor: getMainColor(false, dark) });\n    return createMuiTheme({ palette: { type: dark ? 'dark' : 'light' } }) ;\n  } \n  ren(p, s) { \n    return <ThemeProvider theme={s.theme}>{urlParams.testMode ? <>\n      {tabulize(1/3, [[...E({EUserMode, EDeveloperMode, EPallette}).map(([k, v]) => <Selector options={K(v).map(cleanText)} horizontal={true} onChanged={i => this.setState(singleKeyObject(k, singleKeyObject(V(v)[i], true)), this.setState({ theme: this.createTheme() }))}/>)]])}\n      <InvestorList caption={\"Choose an investor to simulate the UI\"} onChangedSelectedInvestor={investor => this.setState(L({ investor }))} {...(P(s, T(\"EUserMode EDeveloperMode\")))} />\n      <InvestorID investor={s.investor} />\n    </> : null}\n    <p>Future UI (work in progress) below this line.  Numbers shown may be inaccurate or entirely incorrect due to the development process being in progress.</p>\n    <hr/>\n    <MainView {...(P(s, T(\"investor EUserMode EDeveloperMode wallet\")))} urlParams={urlParams} dark={this.isDark()}/></ThemeProvider> \n  } \n} \n\nReactDOM.render(<React.StrictMode><App/></React.StrictMode>, document.getElementById('root')); serviceWorker.unregister();","export let version = 66;\n"],"sourceRoot":""}